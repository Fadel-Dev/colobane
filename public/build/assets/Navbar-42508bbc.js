import{J as V,r as v,H as T,M as L,o as n,f as i,a as e,y as f,e as E,z as O,E as y,F as w,k as U,n as C,t as b,h as m,j as $,O as N,q,s as D,l as F}from"./app-46413578.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";const l=p=>(q("data-v-b86b1481"),p=p(),D(),p),A={class:"fixed top-0 left-0 w-full z-50 bg-white border-b border-gray-200",role:"navigation","aria-label":"Navigation principale"},K={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},X={class:"flex items-center h-16 relative"},J={class:"absolute left-0 flex items-center"},P=["href"],Q=l(()=>e("div",{class:"w-10 h-10 bg-red-500 rounded-full flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})])],-1)),W=l(()=>e("span",{class:"text-xl font-normal text-teal-800 lowercase"},"noflayhub",-1)),G=[Q,W],Y={class:"absolute left-1/2 transform -translate-x-1/2 w-full max-w-2xl px-4 relative"},Z=["onSubmit"],ee={class:"relative"},te=l(()=>e("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),se={key:0,class:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-96 overflow-y-auto"},oe=["onClick","onMouseenter"],ae={class:"flex-1"},le={class:"font-medium text-gray-900"},re={class:"text-xs text-gray-500 capitalize"},ne=l(()=>e("i",{class:"fas fa-chevron-right text-gray-400 text-sm"},null,-1)),ie={class:"absolute right-0 flex items-center space-x-4"},ue=l(()=>e("a",{href:"#",class:"hidden md:block text-sm font-medium text-teal-800 hover:text-teal-900 transition-colors"}," Nouvelle alerte de bien ",-1)),ce=l(()=>e("button",{class:"text-teal-800 hover:text-teal-900 transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 rounded p-1"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})])],-1)),de={class:"relative"},ve=F('<svg class="w-5 h-5 text-teal-800" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-b86b1481><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" data-v-b86b1481></path></svg><div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center border-2 border-white" data-v-b86b1481><svg class="w-5 h-5 text-gray-600" fill="currentColor" viewBox="0 0 20 20" data-v-b86b1481><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" data-v-b86b1481></path></svg></div>',2),he=[ve],pe={key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl border border-gray-200 py-1 z-50"},ge=l(()=>e("a",{href:"/dashboard",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Dashboard ",-1)),fe={href:"/favoris",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},be={key:0,class:"ml-2 text-xs bg-red-500 text-white rounded-full px-2 py-0.5"},me={href:"/notifications",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"},_e={key:0,class:"ml-2 text-xs bg-red-500 text-white rounded-full px-2 py-0.5"},xe=l(()=>e("hr",{class:"my-1"},null,-1)),ye={method:"POST",action:"/logout"},we=["value"],ke=l(()=>e("button",{type:"submit",class:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Se déconnecter ",-1)),Me=l(()=>e("a",{href:"/login",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," Se connecter ",-1)),Se=l(()=>e("a",{href:"/register",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"}," S'inscrire ",-1)),Ce={__name:"Navbar",props:{maisons:Object,canLogin:Boolean,canRegister:Boolean,laravelVersion:String,phpVersion:String},setup(p){const B=V(),z=t=>{var s,d;return((d=(s=B.props.ziggy)==null?void 0:s.urls)==null?void 0:d[t])||"#"};v(!1);const h=v(!1),u=v(!1),c=v(""),o=v([]),r=v(-1),_=v(null),j=async()=>{if(r.value=-1,_.value&&clearTimeout(_.value),c.value.length<2){o.value=[],u.value=!1;return}_.value=setTimeout(async()=>{try{const t=await fetch(`/api/search/suggestions?q=${encodeURIComponent(c.value)}`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(t.ok){const s=await t.json();o.value=s.suggestions||[],u.value=o.value.length>0}}catch(t){console.error("Erreur lors de la recherche de suggestions:",t),o.value=[]}},300)},x=()=>{c.value.trim()&&(u.value=!1,N.visit(`/p/immobilier?search=${encodeURIComponent(c.value)}`))},k=t=>{if(t>=0&&t<o.value.length){const s=o.value[t];u.value=!1,s.url?N.visit(s.url):(c.value=s.value,x())}},M=t=>{o.value.length!==0&&(t==="down"?r.value=(r.value+1)%o.value.length:t==="up"&&(r.value=r.value<=0?o.value.length-1:r.value-1))},I=()=>{setTimeout(()=>{u.value=!1},200)},S=t=>{const s=t.target.closest('button[aria-label="Menu utilisateur"]'),d=t.target.closest(".absolute.right-0");h.value&&!s&&!d&&(h.value=!1)};return T(()=>{document.addEventListener("click",S)}),L(()=>{document.removeEventListener("click",S)}),(t,s)=>{var d;return n(),i("nav",A,[e("div",K,[e("div",X,[e("div",J,[e("a",{href:z("home"),class:"flex items-center space-x-2 focus:outline-none focus:ring-2 focus:ring-principal focus:ring-offset-2 rounded","aria-label":"Retour à l'accueil"},G,8,P)]),e("div",Y,[e("form",{onSubmit:f(x,["prevent"]),class:"relative"},[e("div",ee,[te,E(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>c.value=a),onInput:j,onFocus:s[1]||(s[1]=a=>u.value=!0),onBlur:I,onKeydown:[s[2]||(s[2]=y(f(a=>M("down"),["prevent"]),["arrow-down"])),s[3]||(s[3]=y(f(a=>M("up"),["prevent"]),["arrow-up"])),s[4]||(s[4]=y(f(a=>r.value>=0?k(r.value):x(),["prevent"]),["enter"]))],placeholder:"Rechercher une localisation, une ville...",class:"w-full pl-10 pr-4 py-2.5 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm text-gray-700 placeholder-gray-400","aria-label":"Rechercher une localisation",autocomplete:"off"},null,544),[[O,c.value]]),u.value&&o.value.length>0?(n(),i("div",se,[(n(!0),i(w,null,U(o.value,(a,g)=>(n(),i("div",{key:g,onClick:R=>k(g),onMouseenter:R=>r.value=g,class:C(["px-4 py-3 cursor-pointer transition-colors flex items-center gap-3",r.value===g?"bg-teal-50":"hover:bg-gray-50"])},[e("i",{class:C(["fas text-teal-600",a.icon==="map-marker-alt"?"fa-map-marker-alt":a.icon==="home"?"fa-home":"fa-building"])},null,2),e("div",ae,[e("div",le,b(a.label),1),e("div",re,b(a.type),1)]),ne],42,oe))),128))])):m("",!0)])],40,Z)]),e("div",ie,[ue,ce,e("div",de,[e("button",{onClick:s[5]||(s[5]=a=>h.value=!h.value),class:"flex items-center space-x-2 px-3 py-2 rounded-full border-2 border-teal-800 hover:bg-teal-50 transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500","aria-label":"Menu utilisateur"},he),h.value?(n(),i("div",pe,[(d=t.$page.props.auth)!=null&&d.user?(n(),i(w,{key:0},[ge,e("a",fe,[$(" Mes favoris "),t.$page.props.favoritesCount>0?(n(),i("span",be,b(t.$page.props.favoritesCount),1)):m("",!0)]),e("a",me,[$(" Notifications "),t.$page.props.unreadNotificationsCount>0?(n(),i("span",_e,b(t.$page.props.unreadNotificationsCount),1)):m("",!0)]),xe,e("form",ye,[e("input",{type:"hidden",name:"_token",value:t.$page.props.csrf_token},null,8,we),ke])],64)):(n(),i(w,{key:1},[Me,Se],64))])):m("",!0)])])])])])}}},Be=H(Ce,[["__scopeId","data-v-b86b1481"]]);export{Be as N};
