import{r as S,K,o as i,g as n,b as e,u as k,t as d,l as p,k as m,x as B,y as N,d as h,n as c,H as U,A as y,f as u,B as _,s as w,F as g,m as f,p as $,I as T,a as F,q as I}from"./vue-vendor-3d76406e.js";import"./inertia-vendor-a48cb841.js";import{F as L}from"./Footer-5b9d1065.js";import{N as A}from"./Navbar-8975b393.js";import{_ as V}from"./Toast-323af5a0.js";import{L as b}from"./leaflet-26e9cc29.js";import{_ as M}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as D}from"./SeoHead-7ba8808a.js";import"./vendor-80781d1b.js";const j=t=>(B("data-v-b3f52f5c"),t=t(),N(),t),z={class:"mb-6 px-2 py-4 bg-white rounded-lg border border-gray-200 shadow-sm"},H=j(()=>e("h4",{class:"text-sm font-semibold text-gray-900 mb-3 flex items-center px-2"},[e("i",{class:"fas fa-map-location-dot mr-2 text-principal"}),p(" Sélectionner une région ")],-1)),P={key:0,class:"mt-3 p-2 bg-principal/10 rounded text-sm text-gray-700 mx-2"},q=j(()=>e("i",{class:"fas fa-check-circle text-principal mr-2"},null,-1)),W={__name:"SenegalMap",props:{modelValue:String},emits:["update:modelValue"],setup(t,{emit:o}){const a=t,s=S(null);let l=null,C=S(a.modelValue||"");const R={Dakar:{lat:14.7167,lng:-17.4674,color:"#E74C3C"},Thiès:{lat:14.7854,lng:-16.9275,color:"#F39C12"},Kaolack:{lat:13.9667,lng:-16.0167,color:"#F39C12"},"Saint-Louis":{lat:16.0186,lng:-16.4898,color:"#F39C12"},Tambacounda:{lat:13.7667,lng:-13.7667,color:"#3498DB"},Kolda:{lat:13.6667,lng:-14.9667,color:"#3498DB"},Ziguinchor:{lat:13.5525,lng:-15.5577,color:"#3498DB"},Matam:{lat:15.6626,lng:-13.2511,color:"#3498DB"}};return K(()=>{l=b.map(s.value).setView([14.5,-14.5],7),b.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors",maxZoom:19}).addTo(l),Object.entries(R).forEach(([x,v])=>{const E=b.divIcon({html:`<div class="flex items-center justify-center w-8 h-8 rounded-full text-white font-bold text-xs shadow-lg" style="background-color: ${v.color};">
                    <i class="fas fa-map-pin"></i>
                   </div>`,iconSize:[32,32],className:""});b.marker([v.lat,v.lng],{icon:E}).addTo(l).bindPopup(`<div class="text-sm font-semibold text-gray-900">${x}</div>`).on("click",()=>{C.value=x,o("update:modelValue",x)})}),b.control.zoom({position:"bottomright"}).addTo(l)}),(x,v)=>(i(),n("div",z,[H,e("div",{ref_key:"mapContainer",ref:s,class:"w-full h-80 rounded-lg border border-gray-300 overflow-hidden -mx-2"},null,512),k(C)?(i(),n("div",P,[q,e("strong",null,d(k(C)),1),p(" sélectionnée ")])):m("",!0)]))}},O=M(W,[["__scopeId","data-v-b3f52f5c"]]);const r=t=>(B("data-v-5d5fdc90"),t=t(),N(),t),X={class:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100 pt-14 sm:pt-16"},Z={class:"bg-gradient-to-br from-principal via-principal/90 to-secondaire text-white py-12 sm:py-16"},G={class:"max-w-[95rem] mx-auto px-3 sm:px-6 lg:px-12"},J={class:"text-center"},Q={class:"text-2xl sm:text-4xl md:text-5xl font-bold mb-2 sm:mb-4"},Y={class:"text-sm sm:text-lg md:text-xl text-white/90"},ee={class:"bg-white border-b-4 border-gray-100 sticky top-16 sm:top-16 z-40 shadow-md"},te={class:"overflow-x-auto scrollbar-smooth"},se={class:"flex items-center px-2 sm:px-6 lg:px-12 py-0 min-w-max sm:min-w-0 sm:max-w-[95rem] sm:mx-auto"},oe=r(()=>e("i",{class:"fas fa-hotel text-sm sm:text-lg"},null,-1)),ae=r(()=>e("span",{class:"text-xs sm:text-sm"},"Villa",-1)),re=[oe,ae],ie=r(()=>e("i",{class:"fas fa-building text-sm sm:text-lg"},null,-1)),ne=r(()=>e("span",{class:"text-xs sm:text-sm"},"Appart.",-1)),le=[ie,ne],de=r(()=>e("i",{class:"fas fa-door-open text-sm sm:text-lg"},null,-1)),ce=r(()=>e("span",{class:"text-xs sm:text-sm"},"Chambre",-1)),pe=[de,ce],me=r(()=>e("i",{class:"fas fa-cube text-sm sm:text-lg"},null,-1)),ue=r(()=>e("span",{class:"text-xs sm:text-sm"},"Studio",-1)),ge=[me,ue],fe=r(()=>e("i",{class:"fas fa-city text-sm sm:text-lg"},null,-1)),he=r(()=>e("span",{class:"text-xs sm:text-sm"},"Immeuble",-1)),be=[fe,he],xe=r(()=>e("i",{class:"fas fa-map text-sm sm:text-lg"},null,-1)),ve=r(()=>e("span",{class:"text-xs sm:text-sm"},"Terrain",-1)),ye=[xe,ve],_e=r(()=>e("span",{class:"text-xs sm:text-sm"},"Immobilier",-1)),we={class:"max-w-[95rem] mx-auto px-3 sm:px-6 lg:px-12 py-6 sm:py-12"},ke={class:"flex flex-col lg:flex-row gap-4 sm:gap-6 lg:gap-10"},Ce={class:"lg:w-1/3 w-full border-r-8 border-gray-200"},$e={class:"bg-white rounded-xl sm:rounded-2xl shadow-lg p-4 sm:p-6 lg:p-8 sticky top-16 sm:top-20 lg:top-24"},Se={class:"flex items-center justify-between mb-4 sm:mb-6"},Te=r(()=>e("h3",{class:"text-base sm:text-lg lg:text-xl font-bold text-secondaire"},"Filtres",-1)),Fe=r(()=>e("label",{class:"block text-xs sm:text-sm font-semibold text-secondaire mb-2 sm:mb-3"},[e("i",{class:"fas fa-money-bill-wave mr-2 text-principal"}),p(" Prix (FCFA) ")],-1)),Ie={class:"grid grid-cols-2 gap-2 sm:gap-3"},Be=["placeholder"],Ne=r(()=>e("span",{class:"text-xs text-gray-500 mt-1 block"},"Min",-1)),Le=["placeholder"],Ae=r(()=>e("span",{class:"text-xs text-gray-500 mt-1 block"},"Max",-1)),Ve=r(()=>e("label",{class:"block text-sm font-semibold text-secondaire mb-3"},[e("i",{class:"fas fa-ruler-combined mr-2 text-principal"}),p(" Surface (m²) ")],-1)),Me={class:"grid grid-cols-2 gap-3"},De=["placeholder"],je=r(()=>e("span",{class:"text-xs text-gray-500 mt-1 block"},"Min",-1)),Oe=["placeholder"],Re=r(()=>e("span",{class:"text-xs text-gray-500 mt-1 block"},"Max",-1)),Ee=r(()=>e("label",{class:"block text-sm font-semibold text-secondaire mb-3"},[e("i",{class:"fas fa-bed mr-2 text-principal"}),p(" Nombre de pièces ")],-1)),Ke=$('<option value="" data-v-5d5fdc90>Tous</option><option value="1" data-v-5d5fdc90>1 pièce</option><option value="2" data-v-5d5fdc90>2 pièces</option><option value="3" data-v-5d5fdc90>3 pièces</option><option value="4" data-v-5d5fdc90>4 pièces</option><option value="5" data-v-5d5fdc90>5+ pièces</option>',6),Ue=[Ke],ze=r(()=>e("label",{class:"block text-sm font-semibold text-secondaire mb-3"},[e("i",{class:"fas fa-map-marker-alt mr-2 text-principal"}),p(" Région ")],-1)),He=r(()=>e("option",{value:""},"Toutes les régions",-1)),Pe=["value"],qe=r(()=>e("label",{class:"block text-sm font-semibold text-secondaire mb-3"},[e("i",{class:"fas fa-tag mr-2 text-principal"}),p(" Type d'affaire ")],-1)),We=r(()=>e("option",{value:""},"Tous",-1)),Xe=r(()=>e("option",{value:"vente"},"Vente",-1)),Ze=r(()=>e("option",{value:"location"},"Location",-1)),Ge=[We,Xe,Ze],Je=r(()=>e("label",{class:"block text-sm font-semibold text-secondaire mb-3"},[e("i",{class:"fas fa-sort mr-2 text-principal"}),p(" Trier par ")],-1)),Qe=$('<option value="newest" data-v-5d5fdc90>Plus récent</option><option value="price_asc" data-v-5d5fdc90>Prix croissant</option><option value="price_desc" data-v-5d5fdc90>Prix décroissant</option><option value="surface_asc" data-v-5d5fdc90>Surface croissante</option><option value="surface_desc" data-v-5d5fdc90>Surface décroissante</option>',5),Ye=[Qe],et=r(()=>e("button",{type:"submit",class:"w-full bg-principal hover:bg-principal/90 text-white py-2 sm:py-3 px-3 sm:px-4 text-sm sm:text-base rounded-lg font-semibold transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-principal focus:ring-offset-2 shadow-md hover:shadow-lg"},[e("i",{class:"fas fa-filter mr-1 sm:mr-2"}),e("span",{class:"hidden sm:inline"},"Appliquer les filtres"),e("span",{class:"sm:hidden"},"Filtrer")],-1)),tt={class:"lg:w-2/3 w-full"},st={key:0,class:"mb-12"},ot={class:"flex items-center justify-between mb-6"},at=r(()=>e("h2",{class:"text-2xl font-bold text-secondaire flex items-center"},[e("span",{class:"w-4 h-4 bg-principal rounded-full mr-2","aria-hidden":"true"}),p(" Annonces en vedette "),e("span",{class:"ml-3 text-sm font-normal text-principal flex items-center"},[e("i",{class:"fas fa-bolt mr-1","aria-hidden":"true"}),p(" Boostées ")])],-1)),rt=["href"],it=r(()=>e("span",null,"Voir tout",-1)),nt=r(()=>e("i",{class:"fas fa-arrow-right group-hover:translate-x-1 transition-transform"},null,-1)),lt=[it,nt],dt={class:"relative"},ct={class:"swiper boosted-swiper",id:"boosted-swiper"},pt={class:"swiper-wrapper"},mt=["onClick","onKeydown","aria-label"],ut={class:"relative bg-gray-200 overflow-hidden h-80"},gt=r(()=>e("span",{class:"absolute top-4 right-4 z-10 inline-flex items-center px-3 py-1.5 rounded-full text-sm font-bold bg-gradient-to-r from-yellow-400 to-yellow-500 text-white shadow-lg"},[e("i",{class:"fas fa-bolt mr-1","aria-hidden":"true"}),p(" Boost ")],-1)),ft=["src","alt","title"],ht={class:"absolute top-4 left-4"},bt=["onClick","aria-label"],xt={class:"p-3 sm:p-4 lg:p-6 flex-grow flex flex-col"},vt={class:"flex-grow"},yt={class:"text-sm sm:text-base lg:text-lg font-semibold text-secondaire mb-2 sm:mb-3"},_t={key:0},wt={class:"lowercase"},kt={key:1},Ct={class:"text-xs sm:text-sm lg:text-base text-gray-600 mb-2 sm:mb-4 line-clamp-1"},$t={class:"border-t-2 border-gray-200 pt-2 sm:pt-4 mt-auto flex items-center justify-between"},St={class:"text-lg sm:text-xl lg:text-2xl font-bold text-principal"},Tt=r(()=>e("span",{class:"text-xs sm:text-sm lg:text-base text-gray-500 ml-1 sm:ml-2"},"FCFA",-1)),Ft=["onClick","aria-label"],It=r(()=>e("div",{class:"swiper-button-next boosted-next"},null,-1)),Bt=r(()=>e("div",{class:"swiper-button-prev boosted-prev"},null,-1)),Nt=r(()=>e("div",{class:"swiper-pagination boosted-pagination"},null,-1)),Lt={class:"text-lg sm:text-2xl font-bold text-secondaire mb-3 sm:mb-6 flex items-center"},At=r(()=>e("span",{class:"w-3 h-3 sm:w-4 sm:h-4 bg-secondaire rounded-full mr-2","aria-hidden":"true"},null,-1)),Vt={key:0},Mt={key:1},Dt={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-3 sm:gap-4 lg:gap-6 xl:gap-8"},jt=["onClick","onKeydown","aria-label"],Ot={class:"relative bg-gray-200 overflow-hidden h-32 sm:h-40 lg:h-48"},Rt={key:0,class:"absolute top-2 sm:top-4 right-2 sm:right-4 z-10 bg-principal text-white px-2 sm:px-3 py-1 sm:py-1.5 rounded-full text-xs sm:text-sm font-bold"},Et=["src","alt","title"],Kt={class:"absolute top-4 left-4"},Ut=["onClick","aria-label"],zt={class:"p-3 sm:p-3 lg:p-4 flex-grow flex flex-col"},Ht={class:"flex-grow"},Pt={class:"text-xs sm:text-sm lg:text-base font-semibold text-secondaire mb-1 sm:mb-1.5"},qt={key:0},Wt={class:"lowercase"},Xt={key:1},Zt={class:"text-xs text-gray-600 mb-2 line-clamp-1"},Gt={class:"border-t border-gray-200 pt-2 mt-auto"},Jt={class:"text-base sm:text-lg lg:text-xl font-bold text-principal"},Qt=r(()=>e("span",{class:"text-xs text-gray-500 ml-1"},"/ mois",-1)),Yt={key:1,class:"text-center py-12 text-gray-500"},es=r(()=>e("i",{class:"fas fa-inbox text-4xl mb-4","aria-hidden":"true"},null,-1)),ts=r(()=>e("p",null,"Aucune annonce disponible pour cette catégorie.",-1)),ss=[es,ts],os={key:2,class:"mt-12 flex justify-center"},as={class:"flex items-center space-x-2","aria-label":"Pagination"},rs={key:3,class:"mt-12 flex justify-center"},is={class:"flex items-center space-x-2","aria-label":"Pagination"},ns={class:"mt-12 pt-8 border-t border-gray-200"},ls={class:"flex items-center gap-2 text-sm text-gray-600 mb-6 overflow-x-auto pb-2"},ds=r(()=>e("a",{href:"/",class:"text-gray-600 hover:text-gray-900"},"NoflayHub",-1)),cs=r(()=>e("span",{class:"text-gray-400"},"/",-1)),ps=r(()=>e("a",{href:"/p/immobilier",class:"text-gray-600 hover:text-gray-900"},"Toutes les locations",-1)),ms=r(()=>e("span",{class:"text-gray-400"},"/",-1)),us={class:"text-gray-900 font-medium"},gs={class:"mt-8 mb-8"},fs={class:"flex items-center gap-2 overflow-x-auto pb-4"},hs=["onClick"],bs={class:"mt-12 mb-12"},xs=r(()=>e("h2",{class:"text-2xl font-bold text-gray-900 mb-6"},"Villes proches",-1)),vs={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3"},ys=["onClick"],_s=$('<div class="mt-12 mb-12" data-v-5d5fdc90><h2 class="text-2xl font-bold text-gray-900 mb-6" data-v-5d5fdc90>Trouvez des logements dans les grandes villes</h2><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8" data-v-5d5fdc90><div data-v-5d5fdc90><h3 class="text-lg font-bold text-gray-900 mb-4" data-v-5d5fdc90>Dakar</h3><div class="space-y-2" data-v-5d5fdc90><button class="block text-sm text-gray-600 hover:text-principal transition" data-v-5d5fdc90>Maisons à Dakar</button><button class="block text-sm text-gray-600 hover:text-principal transition" data-v-5d5fdc90>Appartements à Dakar</button><button class="block text-sm text-gray-600 hover:text-principal transition" data-v-5d5fdc90>Chambres à Dakar</button><button class="block text-sm text-gray-600 hover:text-principal transition" data-v-5d5fdc90>Studios à Dakar</button></div></div><div data-v-5d5fdc90><h3 class="text-lg font-bold text-gray-900 mb-4" data-v-5d5fdc90>Thiès</h3><div class="space-y-2" data-v-5d5fdc90><button class="block text-sm text-gray-600 hover:text-principal transition" data-v-5d5fdc90>Maisons à Thiès</button><button class="block text-sm text-gray-600 hover:text-principal transition" data-v-5d5fdc90>Appartements à Thiès</button><button class="block text-sm text-gray-600 hover:text-principal transition" data-v-5d5fdc90>Chambres à Thiès</button><button class="block text-sm text-gray-600 hover:text-principal transition" data-v-5d5fdc90>Studios à Thiès</button></div></div><div data-v-5d5fdc90><h3 class="text-lg font-bold text-gray-900 mb-4" data-v-5d5fdc90>Kaolack</h3><div class="space-y-2" data-v-5d5fdc90><button class="block text-sm text-gray-600 hover:text-principal transition" data-v-5d5fdc90>Maisons à Kaolack</button><button class="block text-sm text-gray-600 hover:text-principal transition" data-v-5d5fdc90>Appartements à Kaolack</button><button class="block text-sm text-gray-600 hover:text-principal transition" data-v-5d5fdc90>Chambres à Kaolack</button><button class="block text-sm text-gray-600 hover:text-principal transition" data-v-5d5fdc90>Studios à Kaolack</button></div></div><div data-v-5d5fdc90><h3 class="text-lg font-bold text-gray-900 mb-4" data-v-5d5fdc90>Saint-Louis</h3><div class="space-y-2" data-v-5d5fdc90><button class="block text-sm text-gray-600 hover:text-principal transition" data-v-5d5fdc90>Maisons à Saint-Louis</button><button class="block text-sm text-gray-600 hover:text-principal transition" data-v-5d5fdc90>Appartements à Saint-Louis</button><button class="block text-sm text-gray-600 hover:text-principal transition" data-v-5d5fdc90>Chambres à Saint-Louis</button><button class="block text-sm text-gray-600 hover:text-principal transition" data-v-5d5fdc90>Studios à Saint-Louis</button></div></div></div></div>',1),ws={components:{Toast:V,Footer:L,Navbar:A,SenegalMap:O,SeoHead:D},data(){return{favorites:new Set,showToast:!1,toastMessage:"",toastType:"success",selectedRegion:"",citiesNearby:["Dakar","Thiès","Kaolack","Saint-Louis","Tambacounda","Kolda","Ziguinchor","Matam","Louga","Diourbel","Fatick","Kindia"],categoryItems:[{id:1,name:"Maisons",slug:"maisons",icon:"home"},{id:2,name:"Appartements",slug:"appartements",icon:"building"},{id:3,name:"Chambres",slug:"chambres",icon:"door-open"},{id:4,name:"Studios",slug:"studios",icon:"cube"},{id:5,name:"Appartements étudiant",slug:"appartements-etudiant",icon:"graduation-cap"}]}},computed:{filters(){return{min_price:this.$props.filters?.min_price||null,max_price:this.$props.filters?.max_price||null,min_surface:this.$props.filters?.min_surface||null,max_surface:this.$props.filters?.max_surface||null,npiece:this.$props.filters?.npiece||"",region:this.$props.filters?.region||"",affaire:this.$props.filters?.affaire||"",sort:this.$props.filters?.sort||"newest"}},isBoostedOnly(){return this.$props.filters?.boosted==="true"||this.$props.filters?.boosted===!0},currentCategory(){const t=this.$props.category?.toLowerCase();return t==="villa"||t==="villas"?"villa":t==="appartement"||t==="appartements"?"appartements":t==="chambre"||t==="chambres"?"chambre":t==="studio"||t==="studios"?"studio":t==="immeuble"||t==="immeubles"?"immeuble":t==="terrain"||t==="terrains"?"terrain":t==="immobilier"?"immobilier":t==="maison"||t==="maisons"?"villa":t}},mounted(){this.$page.props.auth?.user&&this.loadFavorites(),this.$nextTick(()=>{this.initializeBoostedSwiper()})},methods:{navigateToDetail(t){this.$inertia.visit(`/detail/${t}`)},getCategoryName(){return{villa:"Villa",appartements:"Appartements",appartement:"Appartements",chambre:"Chambres",chambres:"Chambres",studio:"Studios",studios:"Studios",immeuble:"Immeubles",immeubles:"Immeubles",terrain:"Terrains",terrains:"Terrains",immobilier:"Immobilier"}[this.category?.toLowerCase()]||"Immobilier"},get canonicalUrl(){return window.location.origin+window.location.pathname+(window.location.search||"")},get structuredData(){const t=this.items?.data||[],o=t.slice(0,10).map((a,s)=>({"@type":"ListItem",position:s+1,item:{"@type":"Product",name:a.nom||`${this.getCategoryName()} à ${a.region||"Sénégal"}`,description:`${a.npiece?a.npiece+" chambre(s)":""} ${a.type||""} ${a.surface?"de "+a.surface+"m²":""} à ${a.region||"Sénégal"}`,offers:{"@type":"Offer",price:a.prix||"0",priceCurrency:"XOF"}}}));return{"@context":"https://schema.org","@type":"ItemList",name:`${this.getCategoryName()} à louer au Sénégal`,description:`Liste de ${this.getCategoryName().toLowerCase()} à louer au Sénégal`,numberOfItems:this.total||t.length,itemListElement:o}},formatNumber(t){return new Intl.NumberFormat("fr-FR").format(t)},formatPrice(t){return t?new Intl.NumberFormat("fr-FR").format(t):"0"},isNew(t){if(!t)return!1;const o=new Date(t);return(new Date-o)/(1e3*60*60*24)<=7},async toggleFavorite(t){if(!this.$page.props.auth?.user){this.$inertia.visit("/login");return}try{const a=await(await fetch(`/favoris/toggle/${t}`,{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content||"","Content-Type":"application/json",Accept:"application/json"}})).json();a.status==="added"?(this.favorites.add(t),this.toastMessage="Bien ajouté aux favoris avec succès!",this.toastType="success",this.showToast=!0):a.status==="removed"&&(this.favorites.delete(t),this.toastMessage="Bien retiré des favoris",this.toastType="info",this.showToast=!0)}catch(o){console.error("Erreur lors de l'ajout aux favoris:",o),this.toastMessage="Erreur lors de l'opération",this.toastType="error",this.showToast=!0}},closeToast(){this.showToast=!1},isFavorite(t){return this.favorites.has(t)},async loadFavorites(){if(this.$page.props.auth?.user)try{const t=await fetch("/favoris/all",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(t.ok){const o=await t.json();o.favoris&&Array.isArray(o.favoris)&&o.favoris.forEach(a=>{this.favorites.add(a)})}}catch(t){console.error("Erreur lors du chargement des favoris:",t)}},getImageUrl(t){return!t||t==="null"||t===""?"https://via.placeholder.com/500x300?text=Image+non+disponible":t.startsWith("http://")||t.startsWith("https://")?t:t.startsWith("storage/")||t.startsWith("/storage/")?t.startsWith("/")?t:"/"+t:"/storage/"+t},getFirstAvailableImage(t){return t.image1&&t.image1!==""&&t.image1!=="null"?this.getImageUrl(t.image1):t.image2&&t.image2!==""&&t.image2!=="null"?this.getImageUrl(t.image2):t.image3&&t.image3!==""&&t.image3!=="null"?this.getImageUrl(t.image3):"https://via.placeholder.com/500x300?text=Image+non+disponible"},handleImageError(t){t.target&&!t.target.dataset.errorHandled&&(t.target.dataset.errorHandled="true",t.target.src="https://via.placeholder.com/500x300?text=Image+non+disponible",t.target.onerror=null)},applyFilters(){const t=new URLSearchParams;Object.keys(this.filters).forEach(s=>{this.filters[s]!==null&&this.filters[s]!==""&&t.append(s,this.filters[s])});const o=t.toString(),a=`/categorie/${this.category}${o?"?"+o:""}`;this.$inertia.visit(a,{preserveState:!0,preserveScroll:!0})},resetFilters(){this.filters={min_price:null,max_price:null,min_surface:null,max_surface:null,npiece:"",region:"",affaire:"",sort:"newest"},this.$inertia.visit(`/categorie/${this.category}`,{preserveState:!1,preserveScroll:!1})},initializeBoostedSwiper(){this.getBoostedItems()?.length>0&&!this.isBoostedOnly&&typeof Swiper<"u"&&new Swiper("#boosted-swiper",{slidesPerView:1,spaceBetween:20,breakpoints:{640:{slidesPerView:2,spaceBetween:24},1024:{slidesPerView:2,spaceBetween:32},1280:{slidesPerView:3,spaceBetween:32}},navigation:{nextEl:".boosted-next",prevEl:".boosted-prev"},pagination:{el:".boosted-pagination",clickable:!0,dynamicBullets:!0},autoplay:{delay:5e3,disableOnInteraction:!1},loop:!1})},getBoostedLink(){return`/categorie/${this.category}?boosted=true`},getBoostedItems(){return this.itemsBoost&&Array.isArray(this.itemsBoost)?this.itemsBoost:this.itemsBoost?.data?this.itemsBoost.data:[]}}},ks=Object.assign(ws,{__name:"Category",props:{category:String,type:String,items:Object,itemsBoost:Object,total:Number,filters:Object,priceRange:Object,surfaceRange:Object,regions:Array},setup(t){return(o,a)=>(i(),n(g,null,[h(D,{title:`${o.getCategoryName()} à louer au Sénégal - NoflayHub`,description:`Trouvez ${o.getCategoryName().toLowerCase()} à louer au Sénégal. ${t.total?o.formatNumber(t.total)+" annonces":"Des centaines d'annonces"} disponibles dans toutes les régions. Prix, surface, nombre de pièces : filtrez selon vos besoins.`,keywords:`${o.getCategoryName().toLowerCase()} à louer Sénégal, location ${o.getCategoryName().toLowerCase()}, ${o.getCategoryName().toLowerCase()} Dakar, ${o.getCategoryName().toLowerCase()} Thiès, immobilier Sénégal`,"canonical-url":o.canonicalUrl,"og-type":"website","structured-data":o.structuredData},null,8,["title","description","keywords","canonical-url","structured-data"]),h(A),e("div",X,[e("section",Z,[e("div",G,[e("div",J,[e("h1",Q,d(o.getCategoryName()),1),e("p",Y,d(o.formatNumber(t.total))+" "+d(t.total>1?"biens disponibles":"bien disponible"),1)])])]),e("nav",ee,[e("div",te,[e("div",se,[e("a",{href:"/categorie/villa",class:c(["px-2 sm:px-4 py-3 sm:py-4 text-xs sm:text-sm font-semibold whitespace-nowrap transition-all duration-300 border-b-4 hover:text-principal flex items-center gap-1 sm:gap-1.5 flex-col sm:flex-row",o.currentCategory==="villa"?"text-principal border-rose-500":"text-gray-600 border-transparent hover:border-gray-300"])},re,2),e("a",{href:"/categorie/appartements",class:c(["px-2 sm:px-4 py-3 sm:py-4 text-xs sm:text-sm font-semibold whitespace-nowrap transition-all duration-300 border-b-4 hover:text-principal flex items-center gap-1 sm:gap-1.5 flex-col sm:flex-row",o.currentCategory==="appartements"?"text-principal border-rose-500":"text-gray-600 border-transparent hover:border-gray-300"])},le,2),e("a",{href:"/categorie/chambre",class:c(["px-2 sm:px-4 py-3 sm:py-4 text-xs sm:text-sm font-semibold whitespace-nowrap transition-all duration-300 border-b-4 hover:text-principal flex items-center gap-1 sm:gap-1.5 flex-col sm:flex-row",o.currentCategory==="chambre"||o.currentCategory==="chambres"?"text-principal border-rose-500":"text-gray-600 border-transparent hover:border-gray-300"])},pe,2),e("a",{href:"/categorie/studio",class:c(["px-2 sm:px-4 py-3 sm:py-4 text-xs sm:text-sm font-semibold whitespace-nowrap transition-all duration-300 border-b-4 hover:text-principal flex items-center gap-1 sm:gap-1.5 flex-col sm:flex-row",o.currentCategory==="studio"?"text-principal border-rose-500":"text-gray-600 border-transparent hover:border-gray-300"])},ge,2),e("a",{href:"/categorie/immeuble",class:c(["px-2 sm:px-4 py-3 sm:py-4 text-xs sm:text-sm font-semibold whitespace-nowrap transition-all duration-300 border-b-4 hover:text-principal flex items-center gap-1 sm:gap-1.5 flex-col sm:flex-row",o.currentCategory==="immeuble"||o.currentCategory==="immeubles"?"text-principal border-rose-500":"text-gray-600 border-transparent hover:border-gray-300"])},be,2),e("a",{href:"/categorie/terrain",class:c(["px-2 sm:px-4 py-3 sm:py-4 text-xs sm:text-sm font-semibold whitespace-nowrap transition-all duration-300 border-b-4 hover:text-principal flex items-center gap-1 sm:gap-1.5 flex-col sm:flex-row",o.currentCategory==="terrain"||o.currentCategory==="terrains"?"text-principal border-rose-500":"text-gray-600 border-transparent hover:border-gray-300"])},ye,2),e("a",{href:"/categorie/immobilier",class:c(["px-2 sm:px-4 py-3 sm:py-4 text-xs sm:text-sm font-semibold whitespace-nowrap transition-all duration-300 border-b-4 hover:text-principal flex items-center gap-1 sm:gap-1.5 flex-col sm:flex-row",o.currentCategory==="immobilier"?"text-rose-500 border-rose-500":"text-gray-600 border-transparent hover:border-gray-300"])},[e("i",{class:"fas fa-graduation-cap text-sm sm:text-lg",style:U({color:o.currentCategory==="immobilier"?"#e11d48":void 0})},null,4),_e],2)])])]),e("div",we,[e("div",ke,[e("aside",Ce,[e("div",$e,[h(O,{modelValue:o.selectedRegion,"onUpdate:modelValue":a[0]||(a[0]=s=>o.selectedRegion=s)},null,8,["modelValue"]),e("div",Se,[Te,e("button",{onClick:a[1]||(a[1]=(...s)=>o.resetFilters&&o.resetFilters(...s)),class:"text-xs sm:text-sm text-principal hover:text-principal/80 font-semibold"}," Réinitialiser ")]),e("form",{onSubmit:a[10]||(a[10]=y((...s)=>o.applyFilters&&o.applyFilters(...s),["prevent"])),class:"space-y-4 sm:space-y-5 lg:space-y-6"},[e("div",null,[Fe,e("div",Ie,[e("div",null,[u(e("input",{type:"number","onUpdate:modelValue":a[2]||(a[2]=s=>t.filters.min_price=s),placeholder:o.formatNumber(t.priceRange?.min_price||0),class:"w-full px-2 sm:px-3 lg:px-4 py-1.5 sm:py-2 border border-gray-300 rounded-lg text-xs sm:text-sm focus:ring-2 focus:ring-principal focus:border-transparent",min:"0"},null,8,Be),[[_,t.filters.min_price,void 0,{number:!0}]]),Ne]),e("div",null,[u(e("input",{type:"number","onUpdate:modelValue":a[3]||(a[3]=s=>t.filters.max_price=s),placeholder:o.formatNumber(t.priceRange?.max_price||0),class:"w-full px-2 sm:px-3 lg:px-4 py-1.5 sm:py-2 border border-gray-300 rounded-lg text-xs sm:text-sm focus:ring-2 focus:ring-principal focus:border-transparent",min:"0"},null,8,Le),[[_,t.filters.max_price,void 0,{number:!0}]]),Ae])])]),e("div",null,[Ve,e("div",Me,[e("div",null,[u(e("input",{type:"number","onUpdate:modelValue":a[4]||(a[4]=s=>t.filters.min_surface=s),placeholder:t.surfaceRange?.min_surface||0,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-principal focus:border-transparent",min:"0"},null,8,De),[[_,t.filters.min_surface,void 0,{number:!0}]]),je]),e("div",null,[u(e("input",{type:"number","onUpdate:modelValue":a[5]||(a[5]=s=>t.filters.max_surface=s),placeholder:t.surfaceRange?.max_surface||0,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-principal focus:border-transparent",min:"0"},null,8,Oe),[[_,t.filters.max_surface,void 0,{number:!0}]]),Re])])]),e("div",null,[Ee,u(e("select",{"onUpdate:modelValue":a[6]||(a[6]=s=>t.filters.npiece=s),class:"w-full px-2 sm:px-3 lg:px-4 py-1.5 sm:py-2 text-xs sm:text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-principal focus:border-transparent"},Ue,512),[[w,t.filters.npiece]])]),e("div",null,[ze,u(e("select",{"onUpdate:modelValue":a[7]||(a[7]=s=>t.filters.region=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-principal focus:border-transparent"},[He,(i(!0),n(g,null,f(t.regions,s=>(i(),n("option",{key:s,value:s},d(s),9,Pe))),128))],512),[[w,t.filters.region]])]),e("div",null,[qe,u(e("select",{"onUpdate:modelValue":a[8]||(a[8]=s=>t.filters.affaire=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-principal focus:border-transparent"},Ge,512),[[w,t.filters.affaire]])]),e("div",null,[Je,u(e("select",{"onUpdate:modelValue":a[9]||(a[9]=s=>t.filters.sort=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-principal focus:border-transparent"},Ye,512),[[w,t.filters.sort]])]),et],32)])]),e("div",tt,[o.getBoostedItems()?.length>0&&!o.isBoostedOnly?(i(),n("div",st,[e("div",ot,[at,e("a",{href:o.getBoostedLink(),class:"text-principal hover:text-principal/80 font-semibold flex items-center gap-2 transition-all duration-300 hover:gap-3 group"},lt,8,rt)]),e("div",dt,[e("div",ct,[e("div",pt,[(i(!0),n(g,null,f(o.getBoostedItems(),s=>(i(),n("div",{key:s.id,class:"swiper-slide"},[e("article",{onClick:l=>o.navigateToDetail(s.id),class:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-300 h-full flex flex-col cursor-pointer focus-within:ring-2 focus-within:ring-principal focus-within:ring-offset-2 group border border-gray-100",onKeydown:T(l=>o.navigateToDetail(s.id),["enter"]),tabindex:"0",role:"article","aria-label":`${s.nom} - ${s.prix} FCFA`},[e("div",ut,[gt,e("img",{src:o.getFirstAvailableImage(s),alt:`Image de ${s.nom||"bien immobilier"}`,title:s.nom,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy",decoding:"async",onError:a[11]||(a[11]=l=>o.handleImageError(l))},null,40,ft),e("div",ht,[e("button",{onClick:y(l=>o.toggleFavorite(s.id),["stop"]),class:c(["bg-white rounded-full p-2.5 shadow-md hover:shadow-lg transition-all duration-300",o.isFavorite(s.id)?"text-red-500":"text-gray-400 hover:text-red-400"]),"aria-label":o.isFavorite(s.id)?"Retirer des favoris":"Ajouter aux favoris"},[e("i",{class:c([o.isFavorite(s.id)?"fas fa-heart":"far fa-heart","text-base"])},null,2)],10,bt)])]),e("div",xt,[e("div",vt,[e("div",yt,[s.npiece?(i(),n("span",_t,d(s.npiece)+" chambre"+d(s.npiece>1?"s":""),1)):m("",!0),e("span",wt,d(s.type||"appartement"),1),s.surface?(i(),n("span",kt," de "+d(s.surface)+"m²",1)):m("",!0)]),e("div",Ct,d(s.region||"Sénégal"),1)]),e("div",$t,[e("div",null,[e("span",St,d(o.formatPrice(s.prix)),1),Tt]),e("button",{onClick:y(l=>o.toggleFavorite(s.id),["stop"]),class:c(["transition-colors duration-300",o.isFavorite(s.id)?"text-red-500":"text-gray-400 hover:text-red-400"]),"aria-label":o.isFavorite(s.id)?"Retirer des favoris":"Ajouter aux favoris"},[e("i",{class:c([o.isFavorite(s.id)?"fas fa-heart":"far fa-heart","text-base sm:text-lg lg:text-xl"])},null,2)],10,Ft)])])],40,mt)]))),128))])]),It,Bt,Nt])])):m("",!0),e("div",null,[e("h2",Lt,[At,o.isBoostedOnly?(i(),n("span",Vt,"Annonces en vedette")):(i(),n("span",Mt,"Toutes les annonces"))]),(o.isBoostedOnly,t.items?.data)?.length>0?(i(),n("div",Dt,[(i(!0),n(g,null,f(t.items.data,s=>(i(),n("article",{key:s.id,onClick:l=>o.navigateToDetail(s.id),class:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-300 h-full flex flex-col cursor-pointer focus-within:ring-2 focus-within:ring-principal focus-within:ring-offset-2 group border border-gray-100",onKeydown:T(l=>o.navigateToDetail(s.id),["enter"]),tabindex:"0",role:"article","aria-label":`${s.nom} - ${s.prix} FCFA`},[e("div",Ot,[o.isNew(s.created_at)?(i(),n("span",Rt," Nouveau ! ")):m("",!0),e("img",{src:o.getFirstAvailableImage(s),alt:`Image de ${s.nom||"bien immobilier"}`,title:s.nom,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy",decoding:"async",onError:a[12]||(a[12]=l=>o.handleImageError(l))},null,40,Et),e("div",Kt,[e("button",{onClick:y(l=>o.toggleFavorite(s.id),["stop"]),class:c(["bg-white rounded-full p-2.5 shadow-md hover:shadow-lg transition-all duration-300",o.isFavorite(s.id)?"text-red-500":"text-gray-400 hover:text-red-400"]),"aria-label":o.isFavorite(s.id)?"Retirer des favoris":"Ajouter aux favoris"},[e("i",{class:c([o.isFavorite(s.id)?"fas fa-heart":"far fa-heart","text-base"])},null,2)],10,Ut)])]),e("div",zt,[e("div",Ht,[e("div",Pt,[s.npiece?(i(),n("span",qt,d(s.npiece)+" chambre"+d(s.npiece>1?"s":""),1)):m("",!0),e("span",Wt,d(s.type||"appartement"),1),s.surface?(i(),n("span",Xt," de "+d(s.surface)+"m²",1)):m("",!0)]),e("div",Zt,d(s.region||"Sénégal"),1)]),e("div",Gt,[e("div",null,[e("span",Jt,d(o.formatPrice(s.prix)),1),Qt])])])],40,jt))),128))])):(i(),n("div",Yt,ss)),!o.isBoostedOnly&&t.items?.links&&t.items.links.length>3?(i(),n("div",os,[e("nav",as,[(i(!0),n(g,null,f(t.items.links,(s,l)=>(i(),F(k(I),{key:l,href:s.url||"#",class:c(["px-4 py-2 rounded-lg font-semibold text-sm transition-all duration-300",s.active?"bg-principal text-white shadow-lg scale-105":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-300",s.url?"cursor-pointer hover:shadow-md":"opacity-50 cursor-not-allowed pointer-events-none"]),innerHTML:s.label,"preserve-state":!0,"preserve-scroll":!0},null,8,["href","class","innerHTML"]))),128))])])):m("",!0),o.isBoostedOnly&&t.items?.links&&t.items.links.length>3?(i(),n("div",rs,[e("nav",is,[(i(!0),n(g,null,f(t.items.links,(s,l)=>(i(),F(k(I),{key:l,href:s.url||"#",class:c(["px-4 py-2 rounded-lg font-semibold text-sm transition-all duration-300",s.active?"bg-principal text-white shadow-lg scale-105":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-300",s.url?"cursor-pointer hover:shadow-md":"opacity-50 cursor-not-allowed pointer-events-none"]),innerHTML:s.label,"preserve-state":!0,"preserve-scroll":!0},null,8,["href","class","innerHTML"]))),128))])])):m("",!0),e("nav",ns,[e("div",ls,[ds,cs,ps,ms,e("span",us,d(o.getCategoryName()),1)])]),e("div",gs,[e("div",fs,[(i(!0),n(g,null,f(o.categoryItems,s=>(i(),n("button",{key:s.id,onClick:l=>o.navigateToCategory(s.slug),class:c(["px-4 py-2 rounded-lg whitespace-nowrap font-medium transition-all",t.category===s.slug?"bg-principal text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"])},[e("i",{class:c(`fas fa-${s.icon} mr-2`)},null,2),p(d(s.name),1)],10,hs))),128))])]),e("div",bs,[xs,e("div",vs,[(i(!0),n(g,null,f(o.citiesNearby,s=>(i(),n("button",{key:s,onClick:l=>o.filterByCity(s),class:"px-4 py-2 border border-gray-300 rounded-full text-gray-700 hover:border-principal hover:text-principal transition-all text-sm"},d(s),9,ys))),128))])]),_s])])])])]),h(L),h(V,{show:o.showToast,message:o.toastMessage,type:o.toastType,onClose:o.closeToast},null,8,["show","message","type","onClose"])],64))}}),As=M(ks,[["__scopeId","data-v-5d5fdc90"]]);export{As as default};
