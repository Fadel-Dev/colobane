import{v as E,r as T,s as U,c as K,w as M,o as l,b as R,u as o,X as B,a as e,d as a,F as v,g as y,n as g,t as m,e as u,j as h,D as N,q as O,E as f,f as c,k as z,p as $,l as G}from"./app-e7b04a6a.js";import{_ as W}from"./AppLayout-3a58f1d4.js";import{_ as Z}from"./_plugin-vue_export-helper-c27b6911.js";const s=x=>($("data-v-fb63f618"),x=x(),G(),x),J={class:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 py-8"},X={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},H=s(()=>e("div",{class:"text-center mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"}," Publier un bien immobilier "),e("p",{class:"text-gray-600"}," Remplissez le formulaire ci-dessous pour publier votre annonce ")],-1)),Q={key:0,class:"mb-8"},Y={class:"flex items-center justify-between"},ee={class:"flex items-center flex-1"},te={key:0,class:"bi bi-check-lg"},se={key:1},oe={class:"flex justify-between mt-2 text-sm text-gray-600"},ie={key:1,class:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8"},le=s(()=>e("h2",{class:"text-2xl font-bold text-gray-900 mb-6 text-center"}," Sélectionnez le type de bien ",-1)),ae={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},ne=["value"],re={class:"text-center"},de={class:"font-semibold text-gray-900"},ce={key:0,class:"absolute top-2 right-2 w-6 h-6 bg-principal rounded-full flex items-center justify-center"},ue=s(()=>e("i",{class:"bi bi-check text-white text-sm"},null,-1)),pe=[ue],be={key:2,class:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8"},ge=["onSubmit"],me={key:0,class:"space-y-6"},he=s(()=>e("div",null,[e("h2",{class:"text-2xl font-bold text-gray-900 mb-6"}," Informations de base ")],-1)),_e=s(()=>e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[c(" Titre de l'annonce "),e("span",{class:"text-red-500"},"*")],-1)),fe=s(()=>e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[c(" Prix (FCFA) "),e("span",{class:"text-red-500"},"*")],-1)),xe=s(()=>e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[c(" Description "),e("span",{class:"text-red-500"},"*")],-1)),ve={class:"flex justify-end pt-4"},ye=["disabled"],we=s(()=>e("i",{class:"bi bi-arrow-right ml-2"},null,-1)),ke={key:1,class:"space-y-6"},Se=s(()=>e("div",null,[e("h2",{class:"text-2xl font-bold text-gray-900 mb-6"}," Détails du bien ")],-1)),Ve={key:0},De=s(()=>e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[c(" Nombre de pièces "),e("span",{class:"text-red-500"},"*")],-1)),Ie={key:1},Pe=s(()=>e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[c(" Surface (m²) "),e("span",{class:"text-red-500"},"*")],-1)),Ce=s(()=>e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[c(" Type d'affaire "),e("span",{class:"text-red-500"},"*")],-1)),je=s(()=>e("option",{value:"",disabled:"",selected:""},"Sélectionnez...",-1)),Te=s(()=>e("option",{value:"Vente"},"Vente",-1)),Ue=s(()=>e("option",{value:"Location"},"Location",-1)),ze=[je,Te,Ue],Fe={class:"flex justify-between pt-4"},Le=s(()=>e("i",{class:"bi bi-arrow-left mr-2"},null,-1)),qe=["disabled"],Ae=s(()=>e("i",{class:"bi bi-arrow-right ml-2"},null,-1)),Ee={key:2,class:"space-y-6"},Ke=s(()=>e("div",null,[e("h2",{class:"text-2xl font-bold text-gray-900 mb-6"}," Photos et localisation ")],-1)),Me=s(()=>e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[c(" Photos du bien "),e("span",{class:"text-red-500"},"*")],-1)),Re={class:"text-xs text-gray-500 mb-4"},Be={key:0,class:"text-principal font-semibold"},Ne={class:"mb-6"},Oe=s(()=>e("i",{class:"bi bi-cloud-upload text-5xl text-principal mb-3"},null,-1)),$e=s(()=>e("p",{class:"text-lg font-semibold text-gray-900 mb-1"}," Cliquez pour sélectionner des photos ",-1)),Ge=s(()=>e("p",{class:"text-sm text-gray-600"}," ou glissez-déposez vos images ici ",-1)),We={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Ze={class:"aspect-square rounded-xl overflow-hidden border-2 border-gray-200"},Je=["src","alt"],Xe=["onClick"],He=s(()=>e("i",{class:"bi bi-x-lg"},null,-1)),Qe=[He],Ye={class:"absolute bottom-2 left-2 bg-black/70 text-white px-2 py-1 rounded text-xs font-semibold"},et={key:0,class:"absolute top-2 left-2 bg-principal text-white px-2 py-1 rounded text-xs font-semibold"},tt={key:1,class:"mt-4"},st={class:"inline-flex items-center px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl cursor-pointer transition-colors"},ot=s(()=>e("i",{class:"bi bi-plus-circle mr-2"},null,-1)),it=["value"],lt=s(()=>e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},[c(" Région "),e("span",{class:"text-red-500"},"*")],-1)),at=s(()=>e("option",{value:"",disabled:"",selected:""},"Sélectionnez une région",-1)),nt=s(()=>e("option",{value:"Dakar"},"Dakar",-1)),rt=s(()=>e("option",{value:"Diourbel"},"Diourbel",-1)),dt=s(()=>e("option",{value:"Fatick"},"Fatick",-1)),ct=s(()=>e("option",{value:"Kaffrine"},"Kaffrine",-1)),ut=s(()=>e("option",{value:"Kaolack"},"Kaolack",-1)),pt=s(()=>e("option",{value:"Kédougou"},"Kédougou",-1)),bt=s(()=>e("option",{value:"Kolda"},"Kolda",-1)),gt=s(()=>e("option",{value:"Louga"},"Louga",-1)),mt=s(()=>e("option",{value:"Matam"},"Matam",-1)),ht=s(()=>e("option",{value:"Saint-Louis"},"Saint-Louis",-1)),_t=s(()=>e("option",{value:"Sédhiou"},"Sédhiou",-1)),ft=s(()=>e("option",{value:"Tambacounda"},"Tambacounda",-1)),xt=s(()=>e("option",{value:"Thiès"},"Thiès",-1)),vt=s(()=>e("option",{value:"Ziguinchor"},"Ziguinchor",-1)),yt=[at,nt,rt,dt,ct,ut,pt,bt,gt,mt,ht,_t,ft,xt,vt],wt={class:"flex justify-between pt-4"},kt=s(()=>e("i",{class:"bi bi-arrow-left mr-2"},null,-1)),St=["disabled"],Vt={key:0},Dt=s(()=>e("i",{class:"bi bi-hourglass-split animate-spin mr-2"},null,-1)),It={key:1},Pt=s(()=>e("i",{class:"bi bi-check-circle mr-2"},null,-1)),Ct={__name:"immobilier",setup(x){const t=E({nom:null,description:null,prix:null,region:null,images:[],type:null,npiece:null,surface:null,affaire:null}),p=T(1),d=T([]);function w(){p.value<3&&p.value++}function k(){p.value>1&&p.value--}function S(n){const r=Array.from(n.target.files);V(r),n.target&&(n.target.value="")}function V(n){const r=_-d.value.length;n.slice(0,r).forEach(b=>{if(b.type.startsWith("image/")){const j=URL.createObjectURL(b);d.value.push({file:b,preview:j,id:Date.now()+Math.random()}),t.images.push(b)}})}function F(n){n.preventDefault(),n.stopPropagation();const r=Array.from(n.dataTransfer.files);V(r)}function D(n){n.preventDefault(),n.stopPropagation()}function L(n){d.value[n].preview&&URL.revokeObjectURL(d.value[n].preview),d.value.splice(n,1),t.images.splice(n,1)}function q(){t.images.length>0&&(t.image1=t.images[0]||null,t.image2=t.images.length>1?t.images[1]:null,t.image3=t.images.length>2?t.images[2]:null);let n="/immobilier/save";t.type==="Verger"?n="/immobilier2/save":t.type==="Ferme"&&(n="/immobilier3/save"),t.post(n)}const A=[{id:1,src:"/storage/slide/villa.png",alt:"Image 1",titre:"Villa",icon:"bi-house-door"},{id:2,src:"/storage/slide/appartement.png",alt:"Image 2",titre:"Appartement",icon:"bi-building"},{id:3,src:"/storage/slide/terrain.png",alt:"Image 3",titre:"Terrain",icon:"bi-map"},{id:4,src:"/storage/slide/chambre.png",alt:"Image 4",titre:"Chambre",icon:"bi-door-open"},{id:5,src:"/storage/slide/immeuble.png",alt:"Image 5",titre:"Immeuble",icon:"bi-buildings"},{id:6,src:"/storage/slide/verger.png",alt:"Image 6",titre:"Verger",icon:"bi-tree"},{id:7,src:"/storage/slide/ferme.png",alt:"Image 7",titre:"Ferme",icon:"bi-barn"}],I=U(()=>t.nom&&t.prix&&t.description),P=U(()=>["Villa","Appartement","Immeuble","Chambre"].includes(t.type)?t.npiece&&t.affaire:t.surface&&t.affaire),C=3,_=10;return(n,r)=>(l(),K(W,{title:"Publier un bien immobilier"},{default:M(()=>[R(o(B),{title:"Publier un bien immobilier"}),e("div",J,[e("div",X,[H,o(t).type?(l(),a("div",Q,[e("div",Y,[(l(),a(v,null,y(C,i=>e("div",{key:i,class:"flex items-center flex-1"},[e("div",ee,[e("div",{class:g(["w-10 h-10 rounded-full flex items-center justify-center font-bold transition-all",p.value>=i?"bg-principal text-white":"bg-gray-200 text-gray-500"])},[p.value>i?(l(),a("i",te)):(l(),a("span",se,m(i),1))],2),i<C?(l(),a("div",{key:0,class:g(["flex-1 h-1 mx-2 transition-all",p.value>i?"bg-principal":"bg-gray-200"])},null,2)):u("",!0)])])),64))]),e("div",oe,[e("span",{class:g(p.value>=1?"text-principal font-semibold":"")},"Informations",2),e("span",{class:g(p.value>=2?"text-principal font-semibold":"")},"Détails",2),e("span",{class:g(p.value>=3?"text-principal font-semibold":"")},"Finalisation",2)])])):u("",!0),o(t).type?u("",!0):(l(),a("div",ie,[le,e("div",ae,[(l(),a(v,null,y(A,i=>e("label",{key:i.id,class:g(["relative cursor-pointer rounded-xl border-2 p-4 transition-all duration-300 hover:shadow-lg",o(t).type===i.titre?"border-principal bg-principal/5 shadow-md scale-105":"border-gray-200 hover:border-principal/50"])},[h(e("input",{type:"radio",class:"sr-only",value:i.titre,"onUpdate:modelValue":r[0]||(r[0]=b=>o(t).type=b)},null,8,ne),[[N,o(t).type]]),e("div",re,[e("div",{class:g(["w-16 h-16 mx-auto mb-3 rounded-xl flex items-center justify-center transition-all",o(t).type===i.titre?"bg-principal text-white":"bg-gray-100 text-gray-600"])},[e("i",{class:g(`bi ${i.icon} text-2xl`)},null,2)],2),e("h3",de,m(i.titre),1)]),o(t).type===i.titre?(l(),a("div",ce,pe)):u("",!0)],2)),64))])])),o(t).type?(l(),a("div",be,[e("form",{onSubmit:O(q,["prevent"])},[p.value===1?(l(),a("div",me,[he,e("div",null,[_e,h(e("input",{class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-principal focus:border-transparent transition-all",id:"nom",name:"nom",type:"text",placeholder:"Ex: Belle villa 4 chambres à Dakar","onUpdate:modelValue":r[1]||(r[1]=i=>o(t).nom=i),required:""},null,512),[[f,o(t).nom]])]),e("div",null,[fe,h(e("input",{class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-principal focus:border-transparent transition-all",id:"prix",type:"text",placeholder:"Ex: 5000000",name:"prix","onUpdate:modelValue":r[2]||(r[2]=i=>o(t).prix=i),required:""},null,512),[[f,o(t).prix]])]),e("div",null,[xe,h(e("textarea",{class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-principal focus:border-transparent transition-all resize-none",id:"description",rows:"5",name:"description","onUpdate:modelValue":r[3]||(r[3]=i=>o(t).description=i),placeholder:"Décrivez votre bien en détail...",required:""},null,512),[[f,o(t).description]])]),e("div",ve,[e("button",{type:"button",onClick:w,disabled:!o(I),class:g(["px-6 py-3 rounded-xl font-semibold transition-all",o(I)?"bg-principal text-white hover:bg-principal-dark shadow-lg hover:shadow-xl":"bg-gray-300 text-gray-500 cursor-not-allowed"])},[c(" Suivant "),we],10,ye)])])):u("",!0),p.value===2?(l(),a("div",ke,[Se,["Villa","Appartement","Immeuble","Chambre"].includes(o(t).type)?(l(),a("div",Ve,[De,h(e("input",{class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-principal focus:border-transparent transition-all",id:"npiece",name:"npiece",type:"text",placeholder:"Ex: 4","onUpdate:modelValue":r[4]||(r[4]=i=>o(t).npiece=i),required:""},null,512),[[f,o(t).npiece]])])):(l(),a("div",Ie,[Pe,h(e("input",{class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-principal focus:border-transparent transition-all",id:"surface",name:"surface",type:"text",placeholder:"Ex: 500","onUpdate:modelValue":r[5]||(r[5]=i=>o(t).surface=i),required:""},null,512),[[f,o(t).surface]])])),e("div",null,[Ce,h(e("select",{class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-principal focus:border-transparent transition-all bg-white",id:"affaire",name:"affaire","onUpdate:modelValue":r[6]||(r[6]=i=>o(t).affaire=i),required:""},ze,512),[[z,o(t).affaire]])]),e("div",Fe,[e("button",{type:"button",onClick:k,class:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition-all"},[Le,c(" Précédent ")]),e("button",{type:"button",onClick:w,disabled:!o(P),class:g(["px-6 py-3 rounded-xl font-semibold transition-all",o(P)?"bg-principal text-white hover:bg-principal-dark shadow-lg hover:shadow-xl":"bg-gray-300 text-gray-500 cursor-not-allowed"])},[c(" Suivant "),Ae],10,qe)])])):u("",!0),p.value===3?(l(),a("div",Ee,[Ke,e("div",null,[Me,e("p",Re,[c(" Sélectionnez plusieurs photos à la fois (maximum "+m(_)+" photos) "),d.value.length>0?(l(),a("span",Be," - "+m(d.value.length)+"/"+m(_)+" sélectionnées ",1)):u("",!0)]),e("div",Ne,[d.value.length<_?(l(),a("label",{key:0,onDrop:F,onDragover:D,onDragenter:D,class:"block w-full border-2 border-dashed border-principal rounded-xl cursor-pointer hover:bg-principal/5 transition-colors p-8 text-center"},[e("div",null,[Oe,$e,Ge,e("p",{class:"text-xs text-gray-500 mt-2"}," Formats acceptés: JPG, PNG, WEBP (max "+m(_)+" photos) ")]),e("input",{type:"file",onChange:S,class:"hidden",accept:"image/*",multiple:""},null,32)],32)):u("",!0)]),d.value.length>0?(l(),a("div",We,[(l(!0),a(v,null,y(d.value,(i,b)=>(l(),a("div",{key:i.id,class:"relative group"},[e("div",Ze,[e("img",{src:i.preview,alt:`Preview ${b+1}`,class:"w-full h-full object-cover"},null,8,Je)]),e("button",{type:"button",onClick:j=>L(b),class:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-colors shadow-lg",title:"Supprimer cette photo"},Qe,8,Xe),e("div",Ye," Photo "+m(b+1),1),b<3?(l(),a("div",et," Principale ")):u("",!0)]))),128))])):u("",!0),d.value.length>0&&d.value.length<_?(l(),a("div",tt,[e("label",st,[ot,c(" Ajouter plus de photos ("+m(_-d.value.length)+" restantes) ",1),e("input",{type:"file",onChange:S,class:"hidden",accept:"image/*",multiple:""},null,32)])])):u("",!0),o(t).progress?(l(),a("progress",{key:2,value:o(t).progress.percentage,max:"100",class:"w-full mt-4 h-2 rounded-full"},m(o(t).progress.percentage)+"% ",9,it)):u("",!0)]),e("div",null,[lt,h(e("select",{class:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-principal focus:border-transparent transition-all bg-white","onUpdate:modelValue":r[7]||(r[7]=i=>o(t).region=i),required:""},yt,512),[[z,o(t).region]])]),e("div",wt,[e("button",{type:"button",onClick:k,class:"px-6 py-3 bg-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-300 transition-all"},[kt,c(" Précédent ")]),e("button",{type:"submit",disabled:o(t).processing||d.value.length===0,class:g(["px-8 py-3 rounded-xl font-semibold transition-all",o(t).processing||d.value.length===0?"bg-gray-400 cursor-not-allowed":"bg-principal text-white hover:bg-principal-dark shadow-lg hover:shadow-xl"])},[o(t).processing?(l(),a("span",Vt,[Dt,c(" Publication... ")])):(l(),a("span",It,[Pt,c(" Publier l'annonce ("+m(d.value.length)+" photo"+m(d.value.length>1?"s":"")+") ",1)]))],10,St)])])):u("",!0)],40,ge)])):u("",!0)])])]),_:1}))}},zt=Z(Ct,[["__scopeId","data-v-fb63f618"]]);export{zt as default};
