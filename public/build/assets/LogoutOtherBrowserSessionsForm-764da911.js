import{r as f,v as k,c as x,w as s,o as a,f as r,d as n,F as y,g as V,a as t,t as l,e as S,b as i,u as c,R as C,n as A}from"./app-7badbfb7.js";import{_ as b}from"./ActionMessage-e0941744.js";import{_ as z}from"./Modal-4bfd272d.js";import{_ as B}from"./DialogModal-604b1edd.js";import{_ as $}from"./InputError-7764b49f.js";import{_ as h}from"./PrimaryButton-ce8b5877.js";import{_ as L}from"./SecondaryButton-37f9cae9.js";import{_ as F}from"./TextInput-4abce6a8.js";import"./SectionTitle-3db6486e.js";import"./_plugin-vue_export-helper-c27b6911.js";const H=t("div",{class:"max-w-xl text-sm text-gray-600"}," Si nécessaire, vous pouvez vous déconnecter de toutes vos autres sessions de navigation sur tous vos appareils. Certaines de vos sessions récentes sont répertoriées ci-dessous ; cependant, cette liste peut ne pas être exhaustive. Si vous pensez que votre compte a été compromis, vous devez également mettre à jour votre mot de passe. ",-1),N={key:0,class:"mt-5 space-y-6"},j={key:0,class:"w-8 h-8 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},K=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"},null,-1),M=[K],T={key:1,class:"w-8 h-8 text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},U=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 1.5H8.25A2.25 2.25 0 006 3.75v16.5a2.25 2.25 0 002.25 2.25h7.5A2.25 2.25 0 0018 20.25V3.75a2.25 2.25 0 00-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"},null,-1),q=[U],E={class:"ml-3"},I={class:"text-sm text-gray-600"},O={class:"text-xs text-gray-500"},D={key:0,class:"text-green-500 font-semibold"},G={key:1},P={class:"flex items-center mt-5"},R={class:"mt-4"},ae={__name:"LogoutOtherBrowserSessionsForm",props:{sessions:Array},setup(p){const d=f(!1),u=f(null),o=k({password:""}),g=()=>{d.value=!0,setTimeout(()=>u.value.focus(),250)},_=()=>{o.delete(route("other-browser-sessions.destroy"),{preserveScroll:!0,onSuccess:()=>m(),onError:()=>u.value.focus(),onFinish:()=>o.reset()})},m=()=>{d.value=!1,o.reset()};return(J,v)=>(a(),x(z,null,{title:s(()=>[r(" Sessions de navigateur ")]),description:s(()=>[r(" Gérez et déconnectez-vous de vos sessions actives sur d'autres navigateurs et appareils. ")]),content:s(()=>[H,p.sessions.length>0?(a(),n("div",N,[(a(!0),n(y,null,V(p.sessions,(e,w)=>(a(),n("div",{key:w,class:"flex items-center"},[t("div",null,[e.agent.is_desktop?(a(),n("svg",j,M)):(a(),n("svg",T,q))]),t("div",E,[t("div",I,l(e.agent.platform?e.agent.platform:"Unknown")+" - "+l(e.agent.browser?e.agent.browser:"Unknown"),1),t("div",null,[t("div",O,[r(l(e.ip_address)+", ",1),e.is_current_device?(a(),n("span",D,"This device")):(a(),n("span",G,"Last active "+l(e.last_active),1))])])])]))),128))])):S("",!0),t("div",P,[i(h,{onClick:g},{default:s(()=>[r(" Se déconnecter des autres sessions du navigateur ")]),_:1}),i(b,{on:c(o).recentlySuccessful,class:"ml-3"},{default:s(()=>[r(" Fait. ")]),_:1},8,["on"])]),i(B,{show:d.value,onClose:m},{title:s(()=>[r(" Se déconnecter des autres sessions du navigateur ")]),content:s(()=>[r(" Veuillez entrer votre mot de passe pour confirmer que vous souhaitez vous déconnecter de vos autres sessions de navigation sur tous vos appareils. "),t("div",R,[i(F,{ref_key:"passwordInput",ref:u,modelValue:c(o).password,"onUpdate:modelValue":v[0]||(v[0]=e=>c(o).password=e),type:"password",class:"mt-1 block w-3/4",placeholder:"Password",autocomplete:"current-password",onKeyup:C(_,["enter"])},null,8,["modelValue","onKeyup"]),i($,{message:c(o).errors.password,class:"mt-2"},null,8,["message"])])]),footer:s(()=>[i(L,{onClick:m},{default:s(()=>[r(" Annuler ")]),_:1}),i(h,{class:A(["ml-3",{"opacity-25":c(o).processing}]),disabled:c(o).processing,onClick:_},{default:s(()=>[r(" Se déconnecter des autres sessions du navigateur ")]),_:1},8,["class","disabled"])]),_:1},8,["show"])]),_:1}))}};export{ae as default};
