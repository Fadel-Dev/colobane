import{J as L,r as f,M as O,O as F,o as r,g as l,b as e,A as p,f as z,B as N,I as m,F as x,m as I,n as k,t as v,k as g,x as U,y as D,p as T}from"./vue-vendor-748ff1f5.js";import{_ as A}from"./_plugin-vue_export-helper-c27b6911.js";import{O as R}from"./inertia-vendor-f9f2960d.js";const a=_=>(U("data-v-e0a462ec"),_=_(),D(),_),E={class:"fixed top-0 left-0 w-full z-50 bg-white border-b border-gray-200",role:"navigation","aria-label":"Navigation principale"},q={class:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8"},H={class:"flex items-center h-14 sm:h-16 gap-2 sm:gap-4 relative md:hidden"},K=["href"],P=a(()=>e("div",{class:"w-8 h-8 sm:w-10 sm:h-10 bg-red-500 rounded-full flex items-center justify-center flex-shrink-0"},[e("svg",{class:"w-5 h-5 sm:w-6 sm:h-6 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})])],-1)),X=a(()=>e("span",{class:"text-base sm:text-lg font-normal text-teal-800 lowercase hidden sm:inline"},"noflayhub",-1)),J=[P,X],Q={class:"flex-1 relative"},W=["onSubmit"],G={class:"relative"},Y=a(()=>e("svg",{class:"absolute left-2.5 sm:left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),Z={key:0,class:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-96 overflow-y-auto"},ee=["onClick","onMouseenter"],te={class:"flex-1"},se={class:"font-medium text-gray-900"},oe={class:"text-xs text-gray-500 capitalize"},ae=a(()=>e("i",{class:"fas fa-chevron-right text-gray-400 text-sm"},null,-1)),re={class:"flex items-center gap-1.5 sm:gap-2 flex-shrink-0"},le=a(()=>e("button",{class:"text-teal-800 hover:text-teal-900 transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 rounded p-1.5 sm:p-2 hover:bg-gray-100"},[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})])],-1)),ne={class:"relative"},ie=T('<svg class="w-4 h-4 sm:w-5 sm:h-5 text-teal-800 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-e0a462ec><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" data-v-e0a462ec></path></svg><div class="w-6 h-6 sm:w-8 sm:h-8 bg-gray-300 rounded-full flex items-center justify-center border-2 border-white flex-shrink-0" data-v-e0a462ec><svg class="w-3.5 h-3.5 sm:w-5 sm:h-5 text-gray-600" fill="currentColor" viewBox="0 0 20 20" data-v-e0a462ec><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" data-v-e0a462ec></path></svg></div>',2),ue=[ie],ce={key:0,class:"absolute right-0 mt-1.5 w-40 sm:w-48 bg-white rounded-lg shadow-xl border border-gray-200 py-1 z-50"},de=a(()=>e("a",{href:"/dashboard",class:"block px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm text-gray-700 hover:bg-gray-100"}," Tableau de bord ",-1)),he={href:"/favoris",class:"block px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between"},pe=a(()=>e("span",null,"Favoris",-1)),ve={key:0,class:"ml-2 text-xs bg-red-500 text-white rounded-full px-1.5 py-0.5"},ge={href:"/notifications",class:"block px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between"},fe=a(()=>e("span",null,"Notif.",-1)),me={key:0,class:"ml-2 text-xs bg-red-500 text-white rounded-full px-1.5 py-0.5"},xe=a(()=>e("hr",{class:"my-1"},null,-1)),ye={method:"POST",action:"/logout"},_e=["value"],be=a(()=>e("button",{type:"submit",class:"block w-full text-left px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm text-gray-700 hover:bg-gray-100"}," Déconnecter ",-1)),we=a(()=>e("a",{href:"/login",class:"block px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm text-gray-700 hover:bg-gray-100"}," Connexion ",-1)),ke=a(()=>e("a",{href:"/register",class:"block px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm text-gray-700 hover:bg-gray-100"}," Inscription ",-1)),Me={class:"hidden md:flex items-center h-16 lg:h-20 gap-6 lg:gap-8"},Ce=["href"],$e=a(()=>e("div",{class:"w-10 lg:w-12 h-10 lg:h-12 bg-red-500 rounded-full flex items-center justify-center flex-shrink-0"},[e("svg",{class:"w-6 lg:w-7 h-6 lg:h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})])],-1)),Se=a(()=>e("span",{class:"text-lg lg:text-xl font-semibold text-teal-800 lowercase"},"noflayhub",-1)),Be=[$e,Se],je={class:"flex-1 relative max-w-2xl"},ze=["onSubmit"],Ne={class:"relative"},Ie=a(()=>e("svg",{class:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),Re={key:0,class:"absolute top-full left-0 right-0 mt-2 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-96 overflow-y-auto"},Te=["onClick","onMouseenter"],Ve={class:"flex-1"},Le={class:"font-medium text-gray-900"},Oe={class:"text-xs text-gray-500 capitalize"},Fe=a(()=>e("i",{class:"fas fa-chevron-right text-gray-400 text-sm"},null,-1)),Ue={class:"flex items-center gap-4 flex-shrink-0"},De=a(()=>e("button",{class:"text-teal-800 hover:text-teal-900 transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 rounded p-2 hover:bg-gray-100"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})])],-1)),Ae={class:"relative"},Ee=T('<svg class="w-5 h-5 text-teal-800 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-e0a462ec><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" data-v-e0a462ec></path></svg><div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center border-2 border-white flex-shrink-0" data-v-e0a462ec><svg class="w-5 h-5 text-gray-600" fill="currentColor" viewBox="0 0 20 20" data-v-e0a462ec><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" data-v-e0a462ec></path></svg></div>',2),qe=[Ee],He={key:0,class:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-xl border border-gray-200 py-2 z-50"},Ke=a(()=>e("a",{href:"/dashboard",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors"}," Tableau de bord ",-1)),Pe={href:"/favoris",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between transition-colors"},Xe=a(()=>e("span",null,"Favoris",-1)),Je={key:0,class:"ml-2 text-xs bg-red-500 text-white rounded-full px-2 py-1"},Qe={href:"/notifications",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center justify-between transition-colors"},We=a(()=>e("span",null,"Notifications",-1)),Ge={key:0,class:"ml-2 text-xs bg-red-500 text-white rounded-full px-2 py-1"},Ye=a(()=>e("hr",{class:"my-1"},null,-1)),Ze={method:"POST",action:"/logout"},et=["value"],tt=a(()=>e("button",{type:"submit",class:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors"}," Déconnecter ",-1)),st=a(()=>e("a",{href:"/login",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors"}," Connexion ",-1)),ot=a(()=>e("a",{href:"/register",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors"}," Inscription ",-1)),at={__name:"Navbar",props:{maisons:Object,canLogin:Boolean,canRegister:Boolean,laravelVersion:String,phpVersion:String},setup(_){const V=L(),$=s=>V.props.ziggy?.urls?.[s]||"#";f(!1);const h=f(!1),u=f(!1),c=f(""),i=f([]),n=f(-1),M=f(null),S=async()=>{if(n.value=-1,M.value&&clearTimeout(M.value),c.value.length<2){i.value=[],u.value=!1;return}M.value=setTimeout(async()=>{try{const s=await fetch(`/api/search/suggestions?q=${encodeURIComponent(c.value)}`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(s.ok){const t=await s.json();i.value=t.suggestions||[],u.value=i.value.length>0}}catch(s){console.error("Erreur lors de la recherche de suggestions:",s),i.value=[]}},300)},y=()=>{c.value.trim()&&(u.value=!1,R.visit(`/p/immobilier?search=${encodeURIComponent(c.value)}`))},b=s=>{if(s>=0&&s<i.value.length){const t=i.value[s];u.value=!1,t.url?R.visit(t.url):(c.value=t.value,y())}},w=s=>{i.value.length!==0&&(s==="down"?n.value=(n.value+1)%i.value.length:s==="up"&&(n.value=n.value<=0?i.value.length-1:n.value-1))},B=()=>{setTimeout(()=>{u.value=!1},200)},j=s=>{const t=s.target.closest('button[aria-label="Menu utilisateur"]'),o=s.target.closest(".absolute.right-0");h.value&&!t&&!o&&(h.value=!1)};return O(()=>{document.addEventListener("click",j)}),F(()=>{document.removeEventListener("click",j)}),(s,t)=>(r(),l("nav",E,[e("div",q,[e("div",H,[e("a",{href:$("home"),class:"flex items-center space-x-1 flex-shrink-0","aria-label":"Retour à l'accueil"},J,8,K),e("div",Q,[e("form",{onSubmit:p(y,["prevent"]),class:"w-full relative"},[e("div",G,[Y,z(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>c.value=o),onInput:S,onFocus:t[1]||(t[1]=o=>u.value=!0),onBlur:B,onKeydown:[t[2]||(t[2]=m(p(o=>w("down"),["prevent"]),["arrow-down"])),t[3]||(t[3]=m(p(o=>w("up"),["prevent"]),["arrow-up"])),t[4]||(t[4]=m(p(o=>n.value>=0?b(n.value):y(),["prevent"]),["enter"]))],placeholder:"Rechercher...",class:"w-full pl-8 sm:pl-10 pr-3 sm:pr-4 py-2 sm:py-2.5 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent text-xs sm:text-sm text-gray-700 placeholder-gray-400","aria-label":"Rechercher une localisation",autocomplete:"off"},null,544),[[N,c.value]]),u.value&&i.value.length>0?(r(),l("div",Z,[(r(!0),l(x,null,I(i.value,(o,d)=>(r(),l("div",{key:d,onClick:C=>b(d),onMouseenter:C=>n.value=d,class:k(["px-4 py-3 cursor-pointer transition-colors flex items-center gap-3",n.value===d?"bg-teal-50":"hover:bg-gray-50"])},[e("i",{class:k(["fas text-teal-600",o.icon==="map-marker-alt"?"fa-map-marker-alt":o.icon==="home"?"fa-home":"fa-building"])},null,2),e("div",te,[e("div",se,v(o.label),1),e("div",oe,v(o.type),1)]),ae],42,ee))),128))])):g("",!0)])],40,W)]),e("div",re,[le,e("div",ne,[e("button",{onClick:t[5]||(t[5]=o=>h.value=!h.value),class:"flex items-center gap-1.5 px-2 sm:px-3 py-1.5 sm:py-2 rounded-full border-2 border-teal-800 hover:bg-teal-50 transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500","aria-label":"Menu utilisateur"},ue),h.value?(r(),l("div",ce,[s.$page.props.auth?.user?(r(),l(x,{key:0},[de,e("a",he,[pe,s.$page.props.favoritesCount>0?(r(),l("span",ve,v(s.$page.props.favoritesCount),1)):g("",!0)]),e("a",ge,[fe,s.$page.props.unreadNotificationsCount>0?(r(),l("span",me,v(s.$page.props.unreadNotificationsCount),1)):g("",!0)]),xe,e("form",ye,[e("input",{type:"hidden",name:"_token",value:s.$page.props.csrf_token},null,8,_e),be])],64)):(r(),l(x,{key:1},[we,ke],64))])):g("",!0)])])]),e("div",Me,[e("a",{href:$("home"),class:"flex items-center space-x-2 flex-shrink-0","aria-label":"Retour à l'accueil"},Be,8,Ce),e("div",je,[e("form",{onSubmit:p(y,["prevent"]),class:"w-full relative"},[e("div",Ne,[Ie,z(e("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=o=>c.value=o),onInput:S,onFocus:t[7]||(t[7]=o=>u.value=!0),onBlur:B,onKeydown:[t[8]||(t[8]=m(p(o=>w("down"),["prevent"]),["arrow-down"])),t[9]||(t[9]=m(p(o=>w("up"),["prevent"]),["arrow-up"])),t[10]||(t[10]=m(p(o=>n.value>=0?b(n.value):y(),["prevent"]),["enter"]))],placeholder:"Rechercher...",class:"w-full pl-12 pr-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm text-gray-700 placeholder-gray-400","aria-label":"Rechercher un bien",autocomplete:"off"},null,544),[[N,c.value]]),u.value&&i.value.length>0?(r(),l("div",Re,[(r(!0),l(x,null,I(i.value,(o,d)=>(r(),l("div",{key:d,onClick:C=>b(d),onMouseenter:C=>n.value=d,class:k(["px-4 py-3 cursor-pointer transition-colors flex items-center gap-3",n.value===d?"bg-teal-50":"hover:bg-gray-50"])},[e("i",{class:k(["fas text-teal-600",o.icon==="map-marker-alt"?"fa-map-marker-alt":o.icon==="home"?"fa-home":"fa-building"])},null,2),e("div",Ve,[e("div",Le,v(o.label),1),e("div",Oe,v(o.type),1)]),Fe],42,Te))),128))])):g("",!0)])],40,ze)]),e("div",Ue,[De,e("div",Ae,[e("button",{onClick:t[11]||(t[11]=o=>h.value=!h.value),class:"flex items-center gap-2 px-4 py-2 rounded-full border-2 border-teal-800 hover:bg-teal-50 transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500","aria-label":"Menu utilisateur"},qe),h.value?(r(),l("div",He,[s.$page.props.auth?.user?(r(),l(x,{key:0},[Ke,e("a",Pe,[Xe,s.$page.props.favoritesCount>0?(r(),l("span",Je,v(s.$page.props.favoritesCount),1)):g("",!0)]),e("a",Qe,[We,s.$page.props.unreadNotificationsCount>0?(r(),l("span",Ge,v(s.$page.props.unreadNotificationsCount),1)):g("",!0)]),Ye,e("form",Ze,[e("input",{type:"hidden",name:"_token",value:s.$page.props.csrf_token},null,8,et),tt])],64)):(r(),l(x,{key:1},[st,ot],64))])):g("",!0)])])])])]))}},it=A(at,[["__scopeId","data-v-e0a462ec"]]);export{it as N};
