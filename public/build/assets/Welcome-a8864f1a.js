import{d as i,b as d,u as x,a as t,F as w,g as _,e as k,o,X as j,R as y,m as b,n as g,t as p,f as m,p as B,k as C}from"./app-31bfdbc7.js";import"./index-cec44626.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";import{I as T}from"./index-b5a0268b.js";/* empty css                                                  */import F from"./SlidePub-f77bc3cc.js";import A from"./Action-b679ad1e.js";import S from"./Chambre-9052d561.js";/* empty css                                                                   */import O from"./Villa-9ecc36e7.js";import V from"./Immeuble-7d374820.js";import L from"./Terrain-c3d7a46a.js";import E from"./Verger-ae5684bd.js";import M from"./Appartement-1f18c13d.js";import D from"./Studio-f6b0df45.js";import{F as K}from"./Footer-4f778ff6.js";import{N}from"./Navbar-8c3df4da.js";import{_ as I}from"./Toast-16a1b77b.js";/* empty css                                               */const n=e=>(B("data-v-19934568"),e=e(),C(),e),W={id:"principal",class:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100",role:"main"},z={class:"lg:w-8/12 mx-auto px-4"},R={class:"mt-8","aria-label":"Navigation par catégories"},P={class:"swiper w-full lg:w-4/4 lg:mt-[10px]",id:"cat"},U={class:"swiper-wrapper pt-10 pb-4"},q=["id","aria-label","aria-pressed","onClick","onKeydown"],H=n(()=>t("div",{class:"absolute inset-0 bg-gradient-to-br from-principal/10 to-secondaire/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500","aria-hidden":"true"},null,-1)),X={class:"relative z-10"},G={class:"inline-flex items-center justify-center w-16 h-16 mx-auto mb-3 rounded-full bg-principal/10 group-hover:bg-principal/20 transition-colors duration-300","aria-hidden":"true"},J={class:"mt-2"},Q={class:"font-semibold text-secondaire group-hover:text-principal transition-colors duration-300"},Y={class:"lg:max-w-[80vw] max-w-[970vw] mx-auto mt-8"},Z={key:0,class:"space-y-8"},ee={class:"mb-10","aria-labelledby":"featured-heading"},te=n(()=>t("h3",{id:"featured-heading",class:"text-xl font-bold text-secondaire mb-6 flex items-center"},[t("span",{class:"w-4 h-4 bg-principal rounded-full mr-2","aria-hidden":"true"}),m(" Annonces en vedette "),t("span",{class:"ml-auto text-sm font-normal text-principal flex items-center"},[t("i",{class:"fas fa-bolt mr-1","aria-hidden":"true"}),m(" Boostées ")])],-1)),se={key:0,class:"swiper",role:"region","aria-label":"Annonces boostées"},ae={class:"swiper-wrapper"},ie=["onClick","onKeydown","aria-label"],oe={class:"absolute top-4 right-4 z-10 flex items-center gap-2"},re=["onClick","aria-label","aria-pressed"],ne=n(()=>t("span",{class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-bold bg-gradient-to-r from-yellow-400 to-yellow-500 text-white shadow-md","aria-label":"Annonce boostée"},[t("i",{class:"fas fa-bolt mr-1","aria-hidden":"true"}),m(" Boost ")],-1)),le={class:"aspect-square overflow-hidden relative bg-gray-200"},de=["src","alt","title"],ce=n(()=>t("div",{class:"absolute inset-0 bg-black/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300","aria-hidden":"true"},null,-1)),ue={class:"p-4 space-y-2 flex-grow"},pe={class:"text-lg font-bold text-principal"},he=n(()=>t("span",{class:"sr-only"},"Prix: ",-1)),fe=n(()=>t("span",{class:"text-sm text-secondaire"},"Fcfa",-1)),ge={class:"text-secondaire font-medium truncate"},me={class:"flex items-center text-sm text-principal border-t border-gray-100 pt-2 mt-2"},be=n(()=>t("i",{class:"fas fa-map-marker-alt mr-2","aria-hidden":"true"},null,-1)),ve=["onClick"],we=n(()=>t("i",{class:"fas fa-phone-alt","aria-hidden":"true"},null,-1)),ye=n(()=>t("span",null,"Contacter",-1)),_e=[we,ye],xe={key:1,class:"text-center py-12 text-gray-500",role:"status"},ke=n(()=>t("i",{class:"fas fa-inbox text-4xl mb-4","aria-hidden":"true"},null,-1)),Te=n(()=>t("p",null,"Aucune annonce boostée disponible pour le moment.",-1)),Ie=[ke,Te],je={class:"py-8",id:"transparent","aria-labelledby":"latest-heading"},Be={class:"mx-auto max-w-screen-xl px-4"},Ce=n(()=>t("div",{class:"text-center mb-12 relative"},[t("h2",{id:"latest-heading",class:"text-3xl font-bold text-secondaire inline-flex items-center"},[t("i",{class:"fas fa-home mr-3 text-principal","aria-hidden":"true"}),m(" Dernières Annonces au Sénégal ")]),t("div",{class:"w-24 h-1 bg-gradient-to-r from-principal to-secondaire mx-auto mt-4 rounded-full","aria-hidden":"true"})],-1)),$e={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",role:"list"},Fe=["onClick","onKeydown","aria-label"],Ae={class:"relative bg-gray-200"},Se=["src","alt","title"],Oe={class:"absolute top-4 left-4"},Ve=["aria-label"],Le={class:"p-6 flex-grow"},Ee={class:"flex justify-between items-start"},Me={class:"text-xl font-bold mb-1 text-principal"},De={class:"text-gray-600 mb-2"},Ke=n(()=>t("i",{class:"fas fa-map-marker-alt text-[#eb2d53] mr-2","aria-hidden":"true"},null,-1)),Ne={class:"flex justify-between items-center mt-4 border-b-2 border-gray-300"},We=n(()=>t("span",{class:"text-gray-500 text-sm"},"Prix:",-1)),ze={class:"text-lg font-bold text-[#eb2d53]"},Re={class:"text-sm text-gray-500"},Pe=["onClick","aria-label","aria-pressed"],Ue={key:0,class:"mt-6"},qe=["onClick"],He=n(()=>t("span",{class:"flex items-center justify-center space-x-2"},[t("i",{class:"fas fa-phone-alt","aria-hidden":"true"}),t("span",null,"Contacter")],-1)),Xe=[He],Ge={key:1,class:"text-center py-12 text-gray-500",role:"status"},Je=n(()=>t("i",{class:"fas fa-inbox text-4xl mb-4","aria-hidden":"true"},null,-1)),Qe=n(()=>t("p",null,"Aucune annonce disponible pour le moment.",-1)),Ye=[Je,Qe],Ze={key:1,class:"bg-transparent"},et={key:2,class:"bg-transparent"},tt={key:3,class:"bg-transparent"},st={key:4,class:"bg-transparent"},at={key:5,class:"bg-transparent"},it={key:6,class:"bg-transparent"},ot={key:7,class:"bg-transparent"},rt={components:{Toast:I},data(){return{activeTab:"Immobilier",showMenu:!1,favorites:new Set,showToast:!1,toastMessage:"",toastType:"success",isLoading:!1,imagesLoaded:0,totalImages:0}},methods:{navigateToDetail(e){this.$inertia.visit(`/detail/${e}`)},async toggleFavorite(e){var c,a;if(!((c=this.$page.props.auth)!=null&&c.user)){this.$inertia.visit("/login");return}try{const u=await(await fetch(`/favoris/toggle/${e}`,{method:"POST",headers:{"X-CSRF-TOKEN":((a=document.querySelector('meta[name="csrf-token"]'))==null?void 0:a.content)||"","Content-Type":"application/json",Accept:"application/json"}})).json();u.status==="added"?(this.favorites.add(e),this.toastMessage="Bien ajouté aux favoris avec succès!",this.toastType="success",this.showToast=!0):u.status==="removed"&&(this.favorites.delete(e),this.toastMessage="Bien retiré des favoris",this.toastType="info",this.showToast=!0)}catch(l){console.error("Erreur lors de l'ajout aux favoris:",l),this.toastMessage="Erreur lors de l'opération",this.toastType="error",this.showToast=!0}},closeToast(){this.showToast=!1},isFavorite(e){return this.favorites.has(e)},async loadFavorites(){var e,c,a;if((e=this.$page.props.auth)!=null&&e.user)try{const l=await fetch("/favoris",{headers:{Accept:"application/json"}});if(l.ok){const u=await l.json();u.favoris&&Array.isArray(u.favoris)&&u.favoris.forEach(f=>{f.immobilier_id&&this.favorites.add(f.immobilier_id)})}}catch{const f=[...(((c=this.immobilliersBoost)==null?void 0:c.data)||[]).map(h=>h.id),...(((a=this.maisons)==null?void 0:a.data)||[]).map(h=>h.id)].slice(0,10);for(const h of f)try{(await(await fetch(`/favoris/check/${h}`,{headers:{Accept:"application/json"}})).json()).isFavorite&&this.favorites.add(h)}catch{}}},getImageUrl(e){return!e||e==="null"||e===""?"https://via.placeholder.com/500x300?text=Image+non+disponible":e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("storage/")||e.startsWith("/storage/")?e.startsWith("/")?e:"/"+e:"/storage/"+e},getFirstAvailableImage(e){return e.image1&&e.image1!==""&&e.image1!=="null"?this.getImageUrl(e.image1):e.image2&&e.image2!==""&&e.image2!=="null"?this.getImageUrl(e.image2):e.image3&&e.image3!==""&&e.image3!=="null"?this.getImageUrl(e.image3):"https://via.placeholder.com/500x300?text=Image+non+disponible"},handleImageError(e){e.target&&!e.target.dataset.errorHandled&&(e.target.dataset.errorHandled="true",e.target.src="https://via.placeholder.com/500x300?text=Image+non+disponible",e.target.onerror=null)},onImageLoad(){this.imagesLoaded++},initializeSwiper(){typeof Swiper<"u"&&(new Swiper("#cat",{slidesPerView:"auto",spaceBetween:20,freeMode:!0,breakpoints:{320:{slidesPerView:2,spaceBetween:10},640:{slidesPerView:3,spaceBetween:15},1024:{slidesPerView:4,spaceBetween:20},1280:{slidesPerView:6,spaceBetween:20}}}),new Swiper(".swiper",{slidesPerView:"auto",spaceBetween:20,freeMode:!0,autoplay:{delay:3e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},breakpoints:{320:{slidesPerView:1,spaceBetween:10},640:{slidesPerView:2,spaceBetween:15},1024:{slidesPerView:3,spaceBetween:20},1280:{slidesPerView:4,spaceBetween:20}}}))},calculateTotalImages(){var c,a;let e=0;(c=this.immobilliersBoost)!=null&&c.data&&(e+=this.immobilliersBoost.data.length),(a=this.maisons)!=null&&a.data&&(e+=this.maisons.data.length),this.totalImages=e,this.isLoading=!1}},mounted(){var e;this.calculateTotalImages(),(e=this.$page.props.auth)!=null&&e.user&&this.loadFavorites(),this.$nextTick(()=>{this.initializeSwiper()}),typeof T<"u"&&T.init({delay:200,color:"#eb2d53",includeCSS:!0,showSpinner:!0}),this.isLoading=!1}},nt=Object.assign(rt,{__name:"Welcome",props:{immobilliersBoost:Object,maisons:Object,canLogin:Boolean,canRegister:Boolean,laravelVersion:String,phpVersion:String,chambres:Object,chambresBoost:Object,villas:Object,villasBoost:Object,immeubles:Object,immeublesBoost:Object,terrains:Object,terrainsBoost:Object,vergers:Object,vergersBoost:Object,appartements:Object,appartementsBoost:Object,studios:Object,studiosBoost:Object},setup(e){let c=[{id:1,icon:"home",name:"Villa"},{id:2,icon:"map-marked",name:"Terrain"},{id:4,icon:"bed",name:"Chambre"},{id:5,icon:"building",name:"Immeuble"},{id:6,icon:"apple-alt",name:"Verger"},{id:7,icon:"city",name:"Appartement"},{id:8,icon:"home",name:"Studio"},{id:9,icon:"key",name:"Immobilier"}];return(a,l)=>{var u,f,h,v;return o(),i(w,null,[d(x(j),{title:"Accueil"}),d(N,{class:"relative"}),t("div",W,[t("div",z,[d(F),t("nav",R,[t("div",P,[t("div",U,[(o(!0),i(w,null,_(x(c),s=>(o(),i("div",{key:s.id,class:"swiper-slide w-1/4 sm:w-1/4 md:w-1/6 lg:w-6/6 xl:w-1/6 flex flex-col"},[t("button",{id:s.id,"aria-label":`Afficher les annonces de type ${s.name}`,"aria-pressed":a.activeTab===s.name,class:"text-center transform hover:scale-110 transition-all duration-300 cursor-pointer group w-full focus:outline-none focus:ring-2 focus:ring-principal focus:ring-offset-2 rounded-2xl",onClick:r=>a.activeTab=s.name,onKeydown:[y(r=>a.activeTab=s.name,["enter"]),y(b(r=>a.activeTab=s.name,["prevent"]),["space"])]},[t("div",{class:g(["p-4 rounded-2xl bg-white/80 backdrop-blur-sm shadow-lg hover:shadow-xl transition-all duration-300 relative overflow-hidden",{"ring-4 ring-principal ring-opacity-60 shadow-2xl scale-105":a.activeTab===s.name}])},[H,t("div",X,[t("div",G,[t("i",{class:g(`fas fa-${s.icon} text-3xl text-principal group-hover:text-principal-dark transition-colors duration-300`),"aria-hidden":"true"},null,2)]),t("div",J,[t("span",Q,p(s.name),1)])])],2)],40,q)]))),128))])])]),t("div",Y,[a.activeTab==="Immobilier"?(o(),i("div",Z,[t("section",ee,[te,((f=(u=e.immobilliersBoost)==null?void 0:u.data)==null?void 0:f.length)>0?(o(),i("div",se,[t("div",ae,[(o(!0),i(w,null,_(e.immobilliersBoost.data,s=>(o(),i("article",{key:s.id,class:"swiper-slide w-full sm:w-1/4 md:w-1/4 lg:w-1/6 xl:w-1/6 p-2"},[t("div",{class:"card group relative bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 h-full flex flex-col cursor-pointer focus-within:ring-2 focus-within:ring-principal focus-within:ring-offset-2",onClick:r=>a.navigateToDetail(s.id),onKeydown:y(r=>a.navigateToDetail(s.id),["enter"]),tabindex:"0",role:"article","aria-label":`${s.nom} - ${s.prix} FCFA`},[t("div",oe,[t("button",{onClick:b(r=>a.toggleFavorite(s.id),["stop"]),class:g(["bg-white rounded-full p-2 shadow-md hover:shadow-lg transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-principal focus:ring-offset-2",a.isFavorite(s.id)?"text-red-500":"text-gray-400 hover:text-red-400"]),"aria-label":a.isFavorite(s.id)?"Retirer des favoris":"Ajouter aux favoris","aria-pressed":a.isFavorite(s.id)},[t("i",{class:g([a.isFavorite(s.id)?"fas fa-heart":"far fa-heart","text-sm"]),"aria-hidden":"true"},null,2)],10,re),ne]),t("div",le,[t("img",{src:a.getFirstAvailableImage(s),alt:`Image de ${s.nom||"bien immobilier"}`,title:s.nom,class:"h-full w-full object-cover transition-all duration-500 group-hover:scale-110",onError:l[0]||(l[0]=r=>a.handleImageError(r)),loading:"lazy",decoding:"async",onLoad:l[1]||(l[1]=(...r)=>a.onImageLoad&&a.onImageLoad(...r))},null,40,de),ce]),t("div",ue,[t("p",pe,[he,m(" "+p(s.prix)+" ",1),fe]),t("h4",ge,p(s.nom.substring(0,20)),1),t("div",me,[be,t("span",null,p(s.region)+", Senegal",1)])]),t("button",{class:"w-full bg-gradient-to-r from-principal to-principal-dark text-white py-3 px-4 transform transition-all duration-300 hover:opacity-90 group-hover:translate-y-0 flex items-center justify-center space-x-2 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-principal",onClick:b(r=>a.navigateToDetail(s.id),["stop"]),"aria-label":"Contacter le propriétaire"},_e,8,ve)],40,ie)]))),128))])])):(o(),i("div",xe,Ie))]),d(A),t("section",je,[t("div",Be,[Ce,((v=(h=e.maisons)==null?void 0:h.data)==null?void 0:v.length)>0?(o(),i("div",$e,[(o(!0),i(w,null,_(e.maisons.data,s=>(o(),i("article",{key:s.id,class:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition duration-300 h-full flex flex-col cursor-pointer focus-within:ring-2 focus-within:ring-principal focus-within:ring-offset-2",onClick:r=>a.navigateToDetail(s.id),onKeydown:y(r=>a.navigateToDetail(s.id),["enter"]),tabindex:"0",role:"listitem","aria-label":`${s.nom} - ${s.prix} FCFA`},[t("div",Ae,[t("img",{src:a.getFirstAvailableImage(s),alt:`Image de ${s.nom||"bien immobilier"}`,title:s.nom,class:"w-full h-64 object-cover",loading:"lazy",decoding:"async",onError:l[2]||(l[2]=r=>a.handleImageError(r)),onLoad:l[3]||(l[3]=(...r)=>a.onImageLoad&&a.onImageLoad(...r))},null,40,Se),t("div",Oe,[t("span",{class:"bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full text-sm font-semibold","aria-label":`Type: ${s.affaire}`},p(s.affaire),9,Ve)])]),t("div",Le,[t("div",Ee,[t("div",null,[t("h3",Me,p(s.nom.substring(0,20))+p(s.nom.length>20?"...":""),1),t("p",De,[Ke,t("span",null,p(s.region)+", Sénégal",1)])])]),t("div",Ne,[t("div",null,[We,t("span",ze,[m(p(s.prix)+" FCFA ",1),t("span",Re,p(s.type),1)])]),t("button",{onClick:b(r=>a.toggleFavorite(s.id),["stop"]),class:g(["transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-principal focus:ring-offset-2 rounded-full p-1",a.isFavorite(s.id)?"text-red-500 hover:text-red-600":"text-[#eb2d53] hover:text-indigo-800"]),"aria-label":a.isFavorite(s.id)?"Retirer des favoris":"Ajouter aux favoris","aria-pressed":a.isFavorite(s.id)},[t("i",{class:g([a.isFavorite(s.id)?"fas fa-heart":"far fa-heart","text-xl"]),"aria-hidden":"true"},null,2)],10,Pe)]),s.status=="accepter"?(o(),i("div",Ue,[t("button",{class:"w-full text-center bg-[#eb2d53] hover:bg-[#d12648] text-white py-2 rounded-lg transition duration-300 focus:outline-none focus:ring-2 focus:ring-[#eb2d53] focus:ring-offset-2",onClick:b(r=>a.navigateToDetail(s.id),["stop"]),"aria-label":"Contacter le propriétaire"},Xe,8,qe)])):k("",!0)])],40,Fe))),128))])):(o(),i("div",Ge,Ye))])])])):a.activeTab=="Chambre"?(o(),i("div",Ze,[d(S,{chambres:e.chambres,chambresBoost:e.chambresBoost},null,8,["chambres","chambresBoost"])])):a.activeTab=="Villa"?(o(),i("div",et,[d(O,{villas:e.villas,villasBoost:e.villasBoost},null,8,["villas","villasBoost"])])):a.activeTab=="Immeuble"?(o(),i("div",tt,[d(V,{immeubles:e.immeubles,immeublesBoost:e.immeublesBoost},null,8,["immeubles","immeublesBoost"])])):a.activeTab=="Terrain"?(o(),i("div",st,[d(L,{terrains:e.terrains,terrainsBoost:e.terrainsBoost},null,8,["terrains","terrainsBoost"])])):a.activeTab=="Verger"?(o(),i("div",at,[d(E,{vergers:e.vergers,vergersBoost:e.vergersBoost},null,8,["vergers","vergersBoost"])])):a.activeTab=="Appartement"?(o(),i("div",it,[d(M,{appartements:e.appartements,"appartements-boost":e.appartementsBoost},null,8,["appartements","appartements-boost"])])):a.activeTab=="Studio"?(o(),i("div",ot,[d(D,{studios:e.studios,"studios-boost":e.studiosBoost},null,8,["studios","studios-boost"])])):k("",!0)])])]),d(K),d(I,{show:a.showToast,message:a.toastMessage,type:a.toastType,onClose:a.closeToast},null,8,["show","message","type","onClose"])],64)}}}),Bt=$(nt,[["__scopeId","data-v-19934568"]]);export{Bt as default};
