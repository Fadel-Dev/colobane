import{e as j,a as b,w as V,o as i,d as u,u as p,X as D,b as t,g as o,k as n,F as g,m as _,n as c,t as h,q as M,l as S}from"./vue-vendor-3d76406e.js";import{_ as F}from"./AppLayout-fbc4fe15.js";import{F as T}from"./Footer-5b9d1065.js";import{N as A}from"./Navbar-8975b393.js";import{O as m}from"./inertia-vendor-a48cb841.js";import"./vendor-80781d1b.js";import"./ChatBot-a03b57e0.js";/* empty css                                                                */import"./_plugin-vue_export-helper-c27b6911.js";const B={class:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 py-4 sm:py-6 lg:py-8"},L={class:"max-w-4xl mx-auto px-3 sm:px-6 lg:px-8 pt-14 sm:pt-16"},R={class:"mb-4 sm:mb-6 lg:mb-8 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 sm:gap-6"},q=t("div",null,[t("h1",{class:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 mb-1 sm:mb-2 flex items-center"},[t("i",{class:"bi bi-bell-fill text-principal mr-2 sm:mr-3 text-lg sm:text-2xl"}),S(" Notifications ")]),t("p",{class:"text-xs sm:text-sm lg:text-base text-gray-600"}," Restez informé de toutes vos activités ")],-1),z=t("i",{class:"bi bi-check-all mr-1.5 sm:mr-2 text-sm sm:text-base"},null,-1),O=t("span",null,"Tout marquer",-1),H=[z,O],I={key:0,class:"space-y-2 sm:space-y-3 lg:space-y-4"},E={class:"flex items-start justify-between gap-2 sm:gap-3"},X={class:"flex-1 min-w-0"},G={class:"flex items-start gap-2 sm:gap-3"},J={class:"flex-1 min-w-0"},K={class:"font-bold text-gray-900 text-sm sm:text-base truncate"},P={class:"text-gray-600 text-xs sm:text-sm mt-0.5 sm:mt-1 line-clamp-2"},Q={class:"text-gray-400 text-xs mt-1 sm:mt-2"},U=["onClick"],W=t("i",{class:"bi bi-arrow-right mr-1 sm:mr-2 group-hover:translate-x-1 transition-transform text-xs sm:text-sm"},null,-1),Y=t("span",{class:"hidden sm:inline"},"Voir le bien",-1),Z=t("span",{class:"sm:hidden"},"Voir",-1),tt=[W,Y,Z],et={class:"flex items-center gap-1 sm:gap-2 ml-2 sm:ml-3 flex-shrink-0"},st=["onClick"],it=t("i",{class:"bi bi-check-circle text-base sm:text-xl"},null,-1),ot=[it],at=["onClick"],lt=t("i",{class:"bi bi-trash text-base sm:text-xl"},null,-1),rt=[lt],nt={key:1,class:"text-center py-8 sm:py-12 lg:py-16"},ct=t("div",{class:"max-w-md mx-auto"},[t("i",{class:"bi bi-bell-slash text-4xl sm:text-5xl lg:text-6xl text-gray-300 mb-3 sm:mb-4"}),t("h2",{class:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 mb-1 sm:mb-2"}," Aucune notification "),t("p",{class:"text-xs sm:text-sm lg:text-base text-gray-600 mb-4 sm:mb-6"}," Vous n'avez pas encore de notifications ")],-1),mt=[ct],dt={key:2,class:"mt-6 sm:mt-8 flex justify-center overflow-x-auto"},xt={class:"flex space-x-1 sm:space-x-2"},wt={__name:"Notifications",props:{notifications:Object},setup(a){const y=a,v=s=>{if(!s)return"";const d=new Date(s),l=new Date-d,r=Math.floor(l/6e4),x=Math.floor(r/60),f=Math.floor(x/24);return r<1?"À l'instant":r<60?`Il y a ${r} min`:x<24?`Il y a ${x}h`:f<7?`Il y a ${f}j`:d.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})},w=s=>{m.post(`/notifications/${s}/read`,{},{preserveScroll:!0})},k=()=>{m.post("/notifications/read-all",{},{preserveScroll:!0})},C=s=>{m.delete(`/notifications/${s}`,{preserveScroll:!0})},N=s=>{s&&m.visit(`/detail/${s}`)},$=j(()=>y.notifications?.data?.filter(s=>!s.read).length||0);return(s,d)=>(i(),b(F,{title:"Notifications"},{default:V(()=>[u(p(D),{title:"Notifications"}),u(A),t("div",B,[t("div",L,[t("div",R,[q,p($)>0?(i(),o("button",{key:0,onClick:k,class:"w-full sm:w-auto px-3 sm:px-4 py-2 bg-principal text-white rounded-lg sm:rounded-xl font-semibold text-xs sm:text-sm hover:bg-principal-dark transition-colors duration-300 flex items-center justify-center sm:justify-start"},H)):n("",!0)]),a.notifications.data&&a.notifications.data.length>0?(i(),o("div",I,[(i(!0),o(g,null,_(a.notifications.data,e=>(i(),o("div",{key:e.id,class:c(["bg-white rounded-lg sm:rounded-xl shadow-sm hover:shadow-md transition-all duration-300 p-3 sm:p-4 lg:p-6 border-l-4",e.read?"border-gray-200":"border-principal"])},[t("div",E,[t("div",X,[t("div",G,[t("div",{class:c(["w-8 sm:w-10 h-8 sm:h-10 rounded-full flex items-center justify-center flex-shrink-0",e.type==="favori"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"])},[t("i",{class:c([e.type==="favori"?"bi bi-heart-fill":"bi bi-bell-fill","text-sm sm:text-base"])},null,2)],2),t("div",J,[t("h3",K,h(e.title),1),t("p",P,h(e.message),1),t("p",Q,h(v(e.created_at)),1)])]),e.immobilier_id?(i(),o("button",{key:0,onClick:l=>N(e.immobilier_id),class:"mt-2 sm:mt-3 text-principal hover:text-principal-dark font-semibold text-xs sm:text-sm flex items-center group"},tt,8,U)):n("",!0)]),t("div",et,[e.read?n("",!0):(i(),o("button",{key:0,onClick:l=>w(e.id),class:"p-1.5 sm:p-2 text-gray-400 hover:text-principal transition-colors","aria-label":"Marquer comme lu"},ot,8,st)),t("button",{onClick:l=>C(e.id),class:"p-1.5 sm:p-2 text-gray-400 hover:text-red-500 transition-colors","aria-label":"Supprimer"},rt,8,at)])])],2))),128))])):(i(),o("div",nt,mt)),a.notifications.data&&a.notifications.data.length>0&&a.notifications.links?(i(),o("div",dt,[t("div",xt,[(i(!0),o(g,null,_(a.notifications.links,(e,l)=>(i(),b(p(M),{key:l,href:e.url||"#",class:c(["px-2 sm:px-3 lg:px-4 py-1.5 sm:py-2 rounded-lg font-semibold text-xs sm:text-sm transition-colors whitespace-nowrap",e.active?"bg-principal text-white":"bg-white text-gray-700 hover:bg-gray-100",e.url?"cursor-pointer":"opacity-50 cursor-not-allowed"]),innerHTML:e.label},null,8,["href","class","innerHTML"]))),128))])])):n("",!0)])]),u(T)]),_:1}))}};export{wt as default};
