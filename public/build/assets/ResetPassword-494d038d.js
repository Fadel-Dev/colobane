import{g as B,r as g,d as z,f as r,b as a,u as e,w,F as L,o as n,X as S,a as s,t as x,h,n as c,T as j,j as R,y as U,q as T,s as q}from"./app-0be46bea.js";import{A as F}from"./AuthenticationCard-a84a1b3c.js";import{_ as N}from"./AuthenticationCardLogo-2dda2d83.js";import{_ as y,a as b}from"./TextInput-ba68b6bc.js";import{_ as k}from"./InputLabel-9667e702.js";import{_ as P}from"./PrimaryButton-d755e5b4.js";import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";const u=p=>(T("data-v-2e989d88"),p=p(),q(),p),I=u(()=>s("div",{class:"mb-6"},[s("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Réinitialiser votre mot de passe"),s("p",{class:"text-sm text-gray-600"}," Entrez un nouveau mot de passe fort pour sécuriser votre compte. ")],-1)),Z=["onSubmit"],D={class:"mt-6"},H={class:"flex items-center justify-between"},O={class:"relative mt-1"},X={key:0,class:"absolute right-3 top-1/2 transform -translate-y-1/2"},G={key:0,class:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},J=u(()=>s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)),K=[J],Q={key:1,class:"w-5 h-5 text-orange-500",fill:"currentColor",viewBox:"0 0 20 20"},W=u(()=>s("path",{"fill-rule":"evenodd",d:"M13.477 14.89A6 6 0 0012 19c-3.314 0-6-1.343-6-3s2.686-3 6-3c.996 0 1.926.164 2.755.430a1 1 0 00.502-1.94c-1.034-.447-2.16-.72-3.257-.72-4.418 0-8 2.239-8 5s3.582 5 8 5c.163 0 .326-.012.488-.04a1 1 0 00-.488-1.94z","clip-rule":"evenodd"},null,-1)),Y=[W],ee={key:0,class:"mt-2"},se={class:"flex items-center justify-between text-xs"},te=u(()=>s("span",{class:"text-gray-600"},"Force :",-1)),oe={class:"mt-1 w-full bg-gray-200 rounded-full h-2"},ae={class:"mt-3 space-y-1 text-xs"},le={class:"mt-6"},re={class:"flex items-center justify-between"},ne={class:"relative mt-1"},ie={key:0,class:"absolute right-3 top-1/2 transform -translate-y-1/2"},ce={key:0,class:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},de=u(()=>s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)),ue=[de],me={key:1,class:"w-5 h-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20"},pe=u(()=>s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1)),_e=[pe],fe={key:0,class:"mt-2 text-xs text-red-600 font-medium"},ve={key:1,class:"mt-2 text-xs text-green-600 font-medium"},we={class:"flex items-center justify-end mt-8"},he={key:0},ge={key:1,class:"flex items-center"},xe=u(()=>s("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),ye={__name:"ResetPassword",props:{email:String,token:String},setup(p){const C=p,t=B({token:C.token,email:C.email,password:"",password_confirmation:""}),_=g(!1),f=g(!1),v=g(!1),l=z(()=>{const d=t.password;if(!d)return{score:0,label:"",color:"gray"};let o=0;const i={length:d.length>=8,uppercase:/[A-Z]/.test(d),lowercase:/[a-z]/.test(d),numbers:/\d/.test(d),special:/[!@#$%^&*]/.test(d)};Object.values(i).forEach($=>{$&&o++});const M=["Très faible","Faible","Moyen","Bon","Très bon"],A=["red","orange","yellow","blue","green"];return{score:o,label:M[o-1]||"",color:A[o-1]||"gray",checks:i}}),m=z(()=>t.password===t.password_confirmation||!t.password_confirmation),V=async()=>{m.value&&(_.value=!0,t.post(route("password.update"),{onFinish:()=>{_.value=!1,t.hasErrors||t.reset("password","password_confirmation")}}))};return(d,o)=>(n(),r(L,null,[a(e(S),{title:"Réinitialiser votre mot de passe"}),a(F,null,{logo:w(()=>[a(N)]),default:w(()=>[I,s("form",{onSubmit:U(V,["prevent"])},[s("div",null,[a(k,{for:"email",value:"Adresse e-mail"}),a(y,{id:"email",modelValue:e(t).email,"onUpdate:modelValue":o[0]||(o[0]=i=>e(t).email=i),type:"email",class:"mt-1 block w-full bg-gray-100 cursor-not-allowed",disabled:"",autocomplete:"email"},null,8,["modelValue"]),a(b,{class:"mt-2",message:e(t).errors.email},null,8,["message"])]),s("div",D,[s("div",H,[a(k,{for:"password",value:"Nouveau mot de passe"}),s("button",{type:"button",onClick:o[1]||(o[1]=i=>f.value=!f.value),class:"text-xs text-blue-600 hover:text-blue-800 font-medium"},x(f.value?"Masquer":"Afficher"),1)]),s("div",O,[a(y,{id:"password",modelValue:e(t).password,"onUpdate:modelValue":o[2]||(o[2]=i=>e(t).password=i),type:f.value?"text":"password",class:"block w-full",placeholder:"Minimum 8 caractères",required:"",autocomplete:"new-password"},null,8,["modelValue","type"]),e(t).password?(n(),r("div",X,[e(l).score>=4?(n(),r("svg",G,K)):(n(),r("svg",Q,Y))])):h("",!0)]),e(t).password?(n(),r("div",ee,[s("div",se,[te,s("span",{class:c(`font-semibold text-${e(l).color}-600`)},x(e(l).label),3)]),s("div",oe,[s("div",{class:c(["h-2 rounded-full transition-all",{"w-1/5 bg-red-500":e(l).score===1,"w-2/5 bg-orange-500":e(l).score===2,"w-3/5 bg-yellow-500":e(l).score===3,"w-4/5 bg-blue-500":e(l).score===4,"w-full bg-green-500":e(l).score===5}])},null,2)]),s("div",ae,[s("div",{class:c(e(l).checks.length?"text-green-600":"text-gray-500")}," ✓ Au moins 8 caractères ",2),s("div",{class:c(e(l).checks.uppercase?"text-green-600":"text-gray-500")}," ✓ Une lettre majuscule (A-Z) ",2),s("div",{class:c(e(l).checks.lowercase?"text-green-600":"text-gray-500")}," ✓ Une lettre minuscule (a-z) ",2),s("div",{class:c(e(l).checks.numbers?"text-green-600":"text-gray-500")}," ✓ Un chiffre (0-9) ",2),s("div",{class:c(e(l).checks.special?"text-green-600":"text-gray-500")}," ✓ Un caractère spécial (!@#$%^&*) ",2)])])):h("",!0),a(b,{class:"mt-2",message:e(t).errors.password},null,8,["message"])]),s("div",le,[s("div",re,[a(k,{for:"password_confirmation",value:"Confirmer le mot de passe"}),s("button",{type:"button",onClick:o[3]||(o[3]=i=>v.value=!v.value),class:"text-xs text-blue-600 hover:text-blue-800 font-medium"},x(v.value?"Masquer":"Afficher"),1)]),s("div",ne,[a(y,{id:"password_confirmation",modelValue:e(t).password_confirmation,"onUpdate:modelValue":o[4]||(o[4]=i=>e(t).password_confirmation=i),type:v.value?"text":"password",class:"block w-full",placeholder:"Répétez votre nouveau mot de passe",required:"",autocomplete:"new-password"},null,8,["modelValue","type"]),e(t).password_confirmation?(n(),r("div",ie,[e(m)?(n(),r("svg",ce,ue)):(n(),r("svg",me,_e))])):h("",!0)]),a(j,{name:"fade"},{default:w(()=>[e(t).password_confirmation&&!e(m)?(n(),r("p",fe," ⚠️ Les mots de passe ne correspondent pas ")):e(t).password_confirmation&&e(m)?(n(),r("p",ve," ✓ Les mots de passe correspondent ")):h("",!0)]),_:1}),a(b,{class:"mt-2",message:e(t).errors.password_confirmation},null,8,["message"])]),s("div",we,[a(P,{disabled:_.value||!e(m)||e(t).password.length<8,class:c({"opacity-50 cursor-not-allowed":_.value||!e(m)||e(t).password.length<8})},{default:w(()=>[_.value?(n(),r("span",ge,[xe,R(" Traitement... ")])):(n(),r("span",he,"Réinitialiser le mot de passe"))]),_:1},8,["disabled","class"])])],40,Z)]),_:1})],64))}},$e=E(ye,[["__scopeId","data-v-2e989d88"]]);export{$e as default};
