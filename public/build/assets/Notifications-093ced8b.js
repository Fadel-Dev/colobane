import{e as D,a as _,w as M,o as i,d as h,u as x,X as S,b as t,g as o,l as b,k as n,F as g,m as y,n as c,t as f,q as V}from"./vue-vendor-3d76406e.js";import{_ as F}from"./AppLayout-d3b1fcdb.js";import{F as T}from"./Footer-4de97d4d.js";import{N as A}from"./Navbar-8975b393.js";import{O as d}from"./inertia-vendor-a48cb841.js";import"./vendor-80781d1b.js";import"./ChatBot-e8c84dea.js";/* empty css                                                                */import"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                               */const B={class:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 py-8"},L={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},R={class:"mb-8 flex items-center justify-between"},q=t("div",null,[t("h1",{class:"text-4xl font-bold text-gray-900 mb-2 flex items-center"},[t("i",{class:"bi bi-bell-fill text-principal mr-3"}),b(" Notifications ")]),t("p",{class:"text-gray-600"}," Restez informé de toutes vos activités ")],-1),z=t("i",{class:"bi bi-check-all mr-2"},null,-1),O={key:0,class:"space-y-4"},H={class:"flex items-start justify-between"},I={class:"flex-1"},E={class:"flex items-center gap-3 mb-2"},X={class:"flex-1"},G={class:"font-bold text-gray-900"},J={class:"text-gray-600 text-sm mt-1"},K={class:"text-gray-400 text-xs mt-2"},P=["onClick"],Q=t("i",{class:"bi bi-arrow-right mr-2 group-hover:translate-x-1 transition-transform"},null,-1),U={class:"flex items-center gap-2 ml-4"},W=["onClick"],Y=t("i",{class:"bi bi-check-circle text-xl"},null,-1),Z=[Y],tt=["onClick"],et=t("i",{class:"bi bi-trash text-xl"},null,-1),st=[et],it={key:1,class:"text-center py-16"},ot=t("div",{class:"max-w-md mx-auto"},[t("i",{class:"bi bi-bell-slash text-6xl text-gray-300 mb-4"}),t("h2",{class:"text-2xl font-bold text-gray-900 mb-2"}," Aucune notification "),t("p",{class:"text-gray-600 mb-6"}," Vous n'avez pas encore de notifications ")],-1),at=[ot],rt={key:2,class:"mt-8 flex justify-center"},lt={class:"flex space-x-2"},_t={__name:"Notifications",props:{notifications:Object},setup(a){const v=a,k=s=>{if(!s)return"";const m=new Date(s),r=new Date-m,l=Math.floor(r/6e4),u=Math.floor(l/60),p=Math.floor(u/24);return l<1?"À l'instant":l<60?`Il y a ${l} min`:u<24?`Il y a ${u}h`:p<7?`Il y a ${p}j`:m.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})},w=s=>{d.post(`/notifications/${s}/read`,{},{preserveScroll:!0})},C=()=>{d.post("/notifications/read-all",{},{preserveScroll:!0})},N=s=>{d.delete(`/notifications/${s}`,{preserveScroll:!0})},$=s=>{s&&d.visit(`/detail/${s}`)},j=D(()=>v.notifications?.data?.filter(s=>!s.read).length||0);return(s,m)=>(i(),_(F,{title:"Notifications"},{default:M(()=>[h(x(S),{title:"Notifications"}),h(A),t("div",B,[t("div",L,[t("div",R,[q,x(j)>0?(i(),o("button",{key:0,onClick:C,class:"px-4 py-2 bg-principal text-white rounded-xl font-semibold hover:bg-principal-dark transition-colors duration-300"},[z,b(" Tout marquer comme lu ")])):n("",!0)]),a.notifications.data&&a.notifications.data.length>0?(i(),o("div",O,[(i(!0),o(g,null,y(a.notifications.data,e=>(i(),o("div",{key:e.id,class:c(["bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 border-l-4",e.read?"border-gray-200":"border-principal"])},[t("div",H,[t("div",I,[t("div",E,[t("div",{class:c(["w-10 h-10 rounded-full flex items-center justify-center",e.type==="favori"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"])},[t("i",{class:c(e.type==="favori"?"bi bi-heart-fill":"bi bi-bell-fill")},null,2)],2),t("div",X,[t("h3",G,f(e.title),1),t("p",J,f(e.message),1),t("p",K,f(k(e.created_at)),1)])]),e.immobilier_id?(i(),o("button",{key:0,onClick:r=>$(e.immobilier_id),class:"mt-3 text-principal hover:text-principal-dark font-semibold text-sm flex items-center group"},[Q,b(" Voir le bien ")],8,P)):n("",!0)]),t("div",U,[e.read?n("",!0):(i(),o("button",{key:0,onClick:r=>w(e.id),class:"p-2 text-gray-400 hover:text-principal transition-colors","aria-label":"Marquer comme lu"},Z,8,W)),t("button",{onClick:r=>N(e.id),class:"p-2 text-gray-400 hover:text-red-500 transition-colors","aria-label":"Supprimer"},st,8,tt)])])],2))),128))])):(i(),o("div",it,at)),a.notifications.data&&a.notifications.data.length>0&&a.notifications.links?(i(),o("div",rt,[t("div",lt,[(i(!0),o(g,null,y(a.notifications.links,(e,r)=>(i(),_(x(V),{key:r,href:e.url||"#",class:c(["px-4 py-2 rounded-lg font-semibold transition-colors",e.active?"bg-principal text-white":"bg-white text-gray-700 hover:bg-gray-100",e.url?"cursor-pointer":"opacity-50 cursor-not-allowed"]),innerHTML:e.label},null,8,["href","class","innerHTML"]))),128))])])):n("",!0)])]),h(T)]),_:1}))}};export{_t as default};
