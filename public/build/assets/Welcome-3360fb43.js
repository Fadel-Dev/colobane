import{r as j,H as O,o as i,c as Z,w as z,f as r,y as I,a as e,j as B,b as k,u as N,m as R,e as E,v as L,h as m,T as q,q as F,s as V,F as w,k as C,n as _,t as d,z as P,O as X,B as J,E as A}from"./app-46413578.js";import{_ as G}from"./SeoHead-23c12dbc.js";import"./index-46f36cdd.js";import{F as K}from"./Footer-e13276d2.js";import{N as U}from"./Navbar-42508bbc.js";import{_ as H}from"./Toast-346701d3.js";import{_ as M}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css                                                               */const S=s=>(F("data-v-49bd4f0f"),s=s(),V(),s),Y=S(()=>e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)),ee={class:"flex min-h-full items-center justify-center p-4"},te={class:"relative bg-white rounded-2xl shadow-xl max-w-2xl w-full p-6"},se={class:"flex items-center justify-between mb-6"},oe=S(()=>e("h2",{id:"modal-title",class:"text-2xl font-bold text-gray-900"}," Pr√©f√©rences de cookies ",-1)),ae=S(()=>e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),ie=[ae],re={class:"text-gray-600 mb-6"},ne={class:"space-y-4 mb-6"},le=S(()=>e("div",{class:"border border-gray-200 rounded-lg p-4"},[e("div",{class:"flex items-center justify-between mb-2"},[e("div",null,[e("h3",{class:"font-semibold text-gray-900"},"Cookies n√©cessaires"),e("p",{class:"text-sm text-gray-600"},"Ces cookies sont essentiels au fonctionnement du site.")]),e("div",{class:"flex-shrink-0 ml-4"},[e("span",{class:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-teal-100 text-teal-800"}," Toujours actif ")])])],-1)),ce={class:"border border-gray-200 rounded-lg p-4"},de={class:"flex items-center justify-between mb-2"},ue=S(()=>e("div",{class:"flex-1"},[e("h3",{class:"font-semibold text-gray-900"},"Cookies analytiques"),e("p",{class:"text-sm text-gray-600"},"Nous aident √† comprendre comment les visiteurs utilisent notre site.")],-1)),he={class:"flex-shrink-0 ml-4"},pe={class:"relative inline-flex items-center cursor-pointer"},ge=S(()=>e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-teal-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-teal-600"},null,-1)),me={class:"border border-gray-200 rounded-lg p-4"},fe={class:"flex items-center justify-between mb-2"},be=S(()=>e("div",{class:"flex-1"},[e("h3",{class:"font-semibold text-gray-900"},"Cookies marketing"),e("p",{class:"text-sm text-gray-600"},"Utilis√©s pour vous montrer des publicit√©s pertinentes.")],-1)),ve={class:"flex-shrink-0 ml-4"},xe={class:"relative inline-flex items-center cursor-pointer"},ye=S(()=>e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-teal-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-teal-600"},null,-1)),_e={class:"border border-gray-200 rounded-lg p-4"},we={class:"flex items-center justify-between mb-2"},ke=S(()=>e("div",{class:"flex-1"},[e("h3",{class:"font-semibold text-gray-900"},"Cookies de pr√©f√©rences"),e("p",{class:"text-sm text-gray-600"},"M√©morisent vos choix (langue, r√©gion, etc.).")],-1)),$e={class:"flex-shrink-0 ml-4"},Ce={class:"relative inline-flex items-center cursor-pointer"},Se=S(()=>e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-teal-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-teal-600"},null,-1)),Ie={class:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-3"},je={__name:"CookiePreferences",props:{show:{type:Boolean,default:!1}},emits:["close","save"],setup(s,{emit:t}){const a=j({necessary:!0,analytics:!1,marketing:!1,preferences:!1}),u=()=>{localStorage.setItem("cookie_consent","custom"),localStorage.setItem("cookie_preferences",JSON.stringify(a.value)),localStorage.setItem("cookie_consent_date",new Date().toISOString()),a.value.analytics,a.value.marketing,a.value.preferences,t("save",a.value),t("close"),window.dispatchEvent(new CustomEvent("cookies-customized",{detail:a.value}))};return O(()=>{const c=localStorage.getItem("cookie_preferences");if(c)try{a.value={...a.value,...JSON.parse(c)}}catch(h){console.error("Erreur lors du chargement des pr√©f√©rences:",h)}}),(c,h)=>(i(),Z(q,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:z(()=>[s.show?(i(),r("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",onClick:h[5]||(h[5]=I(p=>c.$emit("close"),["self"]))},[Y,e("div",ee,[e("div",te,[e("div",se,[oe,e("button",{onClick:h[0]||(h[0]=p=>c.$emit("close")),class:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Fermer"},ie)]),e("p",re,[B(" G√©rez vos pr√©f√©rences de cookies. Vous pouvez activer ou d√©sactiver chaque type de cookie ci-dessous. "),k(N(R),{href:"/cookies",class:"text-teal-600 hover:text-teal-700 underline"},{default:z(()=>[B(" En savoir plus sur notre utilisation des cookies ")]),_:1})]),e("div",ne,[le,e("div",ce,[e("div",de,[ue,e("div",he,[e("label",pe,[E(e("input",{type:"checkbox","onUpdate:modelValue":h[1]||(h[1]=p=>a.value.analytics=p),class:"sr-only peer"},null,512),[[L,a.value.analytics]]),ge])])])]),e("div",me,[e("div",fe,[be,e("div",ve,[e("label",xe,[E(e("input",{type:"checkbox","onUpdate:modelValue":h[2]||(h[2]=p=>a.value.marketing=p),class:"sr-only peer"},null,512),[[L,a.value.marketing]]),ye])])])]),e("div",_e,[e("div",we,[ke,e("div",$e,[e("label",Ce,[E(e("input",{type:"checkbox","onUpdate:modelValue":h[3]||(h[3]=p=>a.value.preferences=p),class:"sr-only peer"},null,512),[[L,a.value.preferences]]),Se])])])])]),e("div",Ie,[e("button",{onClick:h[4]||(h[4]=p=>c.$emit("close")),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Annuler "),e("button",{onClick:u,class:"px-6 py-2 text-sm font-semibold text-white bg-teal-600 rounded-lg hover:bg-teal-700 transition-colors shadow-sm"}," Enregistrer les pr√©f√©rences ")])])])])):m("",!0)]),_:1}))}},Te=M(je,[["__scopeId","data-v-49bd4f0f"]]);const Be=s=>(F("data-v-fe624479"),s=s(),V(),s),ze={key:0,class:"fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 shadow-2xl",role:"dialog","aria-labelledby":"cookie-banner-title","aria-modal":"true"},De={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},Ae={class:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4"},Ee={class:"flex-1"},Fe=Be(()=>e("h3",{id:"cookie-banner-title",class:"text-lg font-semibold text-gray-900 mb-2"}," üç™ Nous utilisons des cookies ",-1)),Ve={class:"text-sm text-gray-600 leading-relaxed"},Me={__name:"CookieBanner",setup(s,{expose:t}){const a=j(!1),u=j(null);O(()=>{const g=localStorage.getItem("cookie_consent");g?(u.value=g,g==="accepted"&&n()):setTimeout(()=>{a.value=!0},1e3)});const c=()=>{localStorage.setItem("cookie_consent","accepted"),localStorage.setItem("cookie_consent_date",new Date().toISOString()),u.value="accepted",a.value=!1,n(),window.dispatchEvent(new CustomEvent("cookies-accepted"))},h=()=>{localStorage.setItem("cookie_consent","rejected"),localStorage.setItem("cookie_consent_date",new Date().toISOString()),u.value="rejected",a.value=!1,window.dispatchEvent(new CustomEvent("cookies-rejected"))},p=j(!1),f=()=>{p.value=!0},v=()=>{p.value=!1},o=g=>{a.value=!1},n=()=>{typeof gtag<"u"&&console.log("Cookies analytiques initialis√©s")};return t({hasConsented:()=>u.value==="accepted"}),(g,$)=>(i(),r(w,null,[k(q,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"opacity-0 translate-y-4","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition ease-in duration-200","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-4"},{default:z(()=>[a.value?(i(),r("div",ze,[e("div",De,[e("div",Ae,[e("div",Ee,[Fe,e("p",Ve,[B(" Nous utilisons des cookies pour am√©liorer votre exp√©rience, analyser le trafic du site et personnaliser le contenu. En continuant √† utiliser notre site, vous acceptez notre utilisation des cookies. "),k(N(R),{href:"/cookies",class:"text-teal-600 hover:text-teal-700 underline font-medium"},{default:z(()=>[B(" En savoir plus ")]),_:1})])]),e("div",{class:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 flex-shrink-0"},[e("button",{onClick:f,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2"}," Personnaliser "),e("button",{onClick:h,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2"}," Refuser "),e("button",{onClick:c,class:"px-6 py-2 text-sm font-semibold text-white bg-teal-600 rounded-lg hover:bg-teal-700 transition-colors focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 shadow-sm"}," Tout accepter ")])])])])):m("",!0)]),_:1}),k(Te,{show:p.value,onClose:v,onSave:o},null,8,["show"])],64))}},W=M(Me,[["__scopeId","data-v-fe624479"]]);const T=s=>(F("data-v-07f1de5e"),s=s(),V(),s),Le={key:0,class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Oe=T(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"},null,-1)),Ne=[Oe],Re={key:1,class:"w-8 h-8 animate-spin",fill:"none",viewBox:"0 0 24 24"},qe=T(()=>e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1)),Pe=T(()=>e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)),Ke=[qe,Pe],Ue={key:0,class:"fixed bottom-6 right-6 w-96 h-[600px] bg-white rounded-2xl shadow-2xl flex flex-col z-50 border border-gray-200"},He=T(()=>e("div",{class:"flex items-center space-x-3"},[e("div",{class:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center"},[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})])]),e("div",null,[e("h3",{class:"font-semibold text-lg"},"Assistant NoflayHub"),e("p",{class:"text-xs text-teal-100"},"En ligne")])],-1)),We=T(()=>e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),Qe=[We],Ze={id:"chat-messages",class:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50"},Xe={key:0,class:"max-w-[80%]"},Je={class:"bg-teal-600 text-white rounded-2xl rounded-tr-sm px-4 py-2 shadow-md"},Ge={class:"text-sm"},Ye={class:"text-xs text-gray-500 mt-1 text-right"},et={key:1,class:"max-w-[80%]"},tt={class:"bg-white text-gray-900 rounded-2xl rounded-tl-sm px-4 py-2 shadow-md border border-gray-200"},st={class:"text-sm whitespace-pre-wrap"},ot={class:"text-xs text-gray-500 mt-1"},at={key:2,class:"w-full"},it={class:"bg-white rounded-2xl rounded-tl-sm px-4 py-3 shadow-md border border-gray-200"},rt=T(()=>e("p",{class:"text-sm font-semibold text-gray-900 mb-3"},"Voici des biens qui pourraient vous int√©resser :",-1)),nt={class:"space-y-3"},lt=["onClick"],ct={class:"flex items-start space-x-3"},dt=["src","alt"],ut={class:"flex-1 min-w-0"},ht={class:"font-semibold text-sm text-gray-900 group-hover:text-teal-600 truncate"},pt={class:"text-xs text-gray-600 mt-1"},gt={class:"text-sm font-bold text-teal-600 mt-1"},mt={class:"text-xs text-gray-500 mt-1"},ft={key:0,class:"flex justify-start"},bt=T(()=>e("div",{class:"bg-white rounded-2xl rounded-tl-sm px-4 py-2 shadow-md border border-gray-200"},[e("div",{class:"flex space-x-1"},[e("div",{class:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{"animation-delay":"0s"}}),e("div",{class:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{"animation-delay":"0.2s"}}),e("div",{class:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{"animation-delay":"0.4s"}})])],-1)),vt=[bt],xt={class:"p-4 bg-white border-t border-gray-200 rounded-b-2xl"},yt=["onSubmit"],_t=["disabled"],wt=["disabled"],kt=T(()=>e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})],-1)),$t=[kt],Ct={__name:"ChatBot",setup(s){const t=j(!1),a=j([]),u=j(""),c=j(!1),h=j({type:null,region:null,prixMax:null,prixMin:null,surface:null,pieces:null}),p=["Bonjour ! üëã Je suis votre assistant virtuel NoflayHub.","Je peux vous aider √† trouver le bien immobilier id√©al selon vos besoins.","Dites-moi ce que vous recherchez : type de bien, r√©gion, budget, etc."];O(()=>{p.forEach((g,$)=>{setTimeout(()=>{a.value.push({id:Date.now()+$,type:"bot",content:g,timestamp:new Date})},$*1e3)})});const f=()=>{t.value=!t.value,t.value&&n()},v=async()=>{var $;if(!u.value.trim()||c.value)return;const g=u.value.trim();u.value="",a.value.push({id:Date.now(),type:"user",content:g,timestamp:new Date}),n(),c.value=!0;try{const b=await(await fetch("/api/chatbot/message",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(($=document.querySelector('meta[name="csrf-token"]'))==null?void 0:$.getAttribute("content"))||"",Accept:"application/json"},body:JSON.stringify({message:g,preferences:h.value,conversation_history:a.value.slice(-10).map(D=>({type:D.type,content:D.content}))})})).json();b.success?(a.value.push({id:Date.now()+1,type:"bot",content:b.message,timestamp:new Date}),b.preferences&&Object.assign(h.value,b.preferences),b.suggestions&&b.suggestions.length>0&&setTimeout(()=>{a.value.push({id:Date.now()+2,type:"suggestions",suggestions:b.suggestions,timestamp:new Date}),n()},500),b.message.includes("S'inscrire")||b.message.includes("inscription")):a.value.push({id:Date.now()+1,type:"bot",content:"D√©sol√©, une erreur est survenue. Pouvez-vous reformuler votre question ?",timestamp:new Date})}catch(y){console.error("Erreur lors de l'envoi du message:",y),a.value.push({id:Date.now()+1,type:"bot",content:"D√©sol√©, je rencontre un probl√®me technique. Veuillez r√©essayer plus tard.",timestamp:new Date})}finally{c.value=!1,n()}},o=g=>{X.visit(`/detail/${g.id}`),f()},n=()=>{J(()=>{const g=document.getElementById("chat-messages");g&&(g.scrollTop=g.scrollHeight)})},x=g=>new Date(g).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"});return(g,$)=>(i(),r(w,null,[t.value?m("",!0):(i(),r("button",{key:0,onClick:f,class:"fixed bottom-6 right-6 w-16 h-16 bg-teal-600 hover:bg-teal-700 text-white rounded-full shadow-2xl flex items-center justify-center transition-all duration-300 hover:scale-110 z-50","aria-label":"Ouvrir le chat"},[c.value?(i(),r("svg",Re,Ke)):(i(),r("svg",Le,Ne))])),k(q,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 scale-95","enter-to-class":"opacity-100 translate-y-0 scale-100","leave-active-class":"transition ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 scale-100","leave-to-class":"opacity-0 translate-y-4 scale-95"},{default:z(()=>[t.value?(i(),r("div",Ue,[e("div",{class:"bg-gradient-to-r from-teal-600 to-teal-700 text-white p-4 rounded-t-2xl flex items-center justify-between"},[He,e("button",{onClick:f,class:"text-white hover:text-teal-100 transition-colors p-1","aria-label":"Fermer le chat"},Qe)]),e("div",Ze,[(i(!0),r(w,null,C(a.value,y=>(i(),r("div",{key:y.id,class:_(["flex",y.type==="user"?"justify-end":"justify-start"])},[y.type==="user"?(i(),r("div",Xe,[e("div",Je,[e("p",Ge,d(y.content),1)]),e("p",Ye,d(x(y.timestamp)),1)])):y.type==="bot"?(i(),r("div",et,[e("div",tt,[e("p",st,d(y.content),1)]),e("p",ot,d(x(y.timestamp)),1)])):y.type==="suggestions"?(i(),r("div",at,[e("div",it,[rt,e("div",nt,[(i(!0),r(w,null,C(y.suggestions,b=>(i(),r("div",{key:b.id,onClick:D=>o(b),class:"border border-gray-200 rounded-lg p-3 hover:border-teal-500 hover:shadow-md transition-all cursor-pointer group"},[e("div",ct,[e("img",{src:b.image||"/storage/default-property.jpg",alt:b.nom,class:"w-16 h-16 object-cover rounded-lg",onError:$[0]||($[0]=D=>D.target.src="/storage/default-property.jpg")},null,40,dt),e("div",ut,[e("h4",ht,d(b.nom),1),e("p",pt,d(b.type)+" ‚Ä¢ "+d(b.region),1),e("p",gt,d(new Intl.NumberFormat("fr-FR").format(b.prix))+" FCFA ",1)])])],8,lt))),128))])]),e("p",mt,d(x(y.timestamp)),1)])):m("",!0)],2))),128)),c.value?(i(),r("div",ft,vt)):m("",!0)]),e("div",xt,[e("form",{onSubmit:I(v,["prevent"]),class:"flex items-center space-x-2"},[E(e("input",{"onUpdate:modelValue":$[1]||($[1]=y=>u.value=y),type:"text",placeholder:"Tapez votre message...",class:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm",disabled:c.value},null,8,_t),[[P,u.value]]),e("button",{type:"submit",disabled:!u.value.trim()||c.value,class:"w-10 h-10 bg-teal-600 hover:bg-teal-700 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-lg flex items-center justify-center transition-colors"},$t,8,wt)],40,yt)])])):m("",!0)]),_:1})],64))}},Q=M(Ct,[["__scopeId","data-v-07f1de5e"]]);const l=s=>(F("data-v-ab837c0c"),s=s(),V(),s),St={class:"relative min-h-[70vh] flex items-center justify-center bg-gradient-to-br from-principal via-principal/90 to-secondaire overflow-hidden"},It=l(()=>e("div",{class:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{"background-image":"url('https://images.unsplash.com/photo-1513694203232-719a280e022f?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80')"}},[e("div",{class:"absolute inset-0 bg-gradient-to-b from-black/50 via-black/40 to-black/60"})],-1)),jt={class:"relative z-10 w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20"},Tt={class:"text-center mb-8"},Bt={class:"inline-block bg-white/90 backdrop-blur-md rounded-2xl px-8 py-6 shadow-2xl"},zt={class:"text-4xl md:text-6xl font-bold text-secondaire mb-2"},Dt=l(()=>e("p",{class:"text-lg md:text-xl text-gray-600"},"Trouvez votre logement id√©al au S√©n√©gal",-1)),At={class:"max-w-4xl mx-auto"},Et={class:"bg-white/95 backdrop-blur-md rounded-2xl shadow-2xl p-2 flex flex-col md:flex-row gap-2"},Ft={class:"flex-1 relative"},Vt=l(()=>e("i",{class:"fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-xl z-10"},null,-1)),Mt=l(()=>e("p",{class:"text-xs text-gray-500 mt-1 ml-4"},"Ville, zone ou quartier",-1)),Lt={key:0,class:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-2xl border border-gray-200 z-50 max-h-96 overflow-y-auto"},Ot=["onClick","onMouseenter"],Nt={class:"flex-1"},Rt={class:"font-semibold text-gray-900"},qt={class:"text-xs text-gray-500 capitalize"},Pt=l(()=>e("i",{class:"fas fa-chevron-right text-gray-400 text-sm"},null,-1)),Kt=l(()=>e("button",{type:"submit",class:"bg-principal hover:bg-principal/90 text-white px-8 md:px-12 py-4 md:py-5 rounded-xl font-semibold transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-principal text-lg shadow-lg hover:shadow-xl transform hover:scale-105"}," Rechercher ",-1)),Ut={class:"py-12 bg-white"},Ht={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Wt=l(()=>e("h2",{class:"text-2xl md:text-3xl font-bold text-secondaire mb-8 text-center"}," De quel type de location avez-vous besoin? ",-1)),Qt={class:"flex flex-wrap justify-center gap-4"},Zt=["onClick"],Xt={class:"py-12 bg-gray-50"},Jt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Gt=l(()=>e("h2",{class:"text-2xl md:text-3xl font-bold text-secondaire mb-8"}," Villes populaires pour louer des logements ",-1)),Yt={class:"relative"},es={class:"swiper villes-swiper",id:"villes-swiper"},ts={class:"swiper-wrapper"},ss=["onClick"],os={class:"relative h-48 w-full overflow-hidden bg-gradient-to-br from-gray-200 to-gray-300"},as=["src","alt"],is=l(()=>e("div",{class:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"},null,-1)),rs={class:"absolute bottom-4 left-4 right-4 text-white"},ns={class:"font-bold text-xl mb-1 drop-shadow-lg"},ls={class:"text-sm text-white/90 drop-shadow-md"},cs=l(()=>e("div",{class:"swiper-button-next villes-next"},null,-1)),ds=l(()=>e("div",{class:"swiper-button-prev villes-prev"},null,-1)),us=l(()=>e("div",{class:"swiper-pagination villes-pagination"},null,-1)),hs={key:0,class:"mt-6 text-center"},ps=l(()=>e("i",{class:"fas fa-times"},null,-1)),gs={key:0,class:"py-12 bg-gray-50"},ms={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},fs={key:0,class:"mb-10"},bs={class:"flex items-center justify-between mb-6"},vs=l(()=>e("h3",{class:"text-xl font-bold text-secondaire flex items-center"},[e("span",{class:"w-4 h-4 bg-principal rounded-full mr-2","aria-hidden":"true"}),B(" Annonces en vedette "),e("span",{class:"ml-3 text-sm font-normal text-principal flex items-center"},[e("i",{class:"fas fa-bolt mr-1","aria-hidden":"true"}),B(" Boost√©es ")])],-1)),xs=["href"],ys=l(()=>e("span",null,"Voir tout",-1)),_s=l(()=>e("i",{class:"fas fa-arrow-right group-hover:translate-x-1 transition-transform"},null,-1)),ws=[ys,_s],ks={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},$s=["onClick","onKeydown","aria-label"],Cs={class:"relative bg-gray-200 overflow-hidden h-64"},Ss=l(()=>e("span",{class:"absolute top-4 left-4 z-10 inline-flex items-center px-2 py-1 rounded-full text-xs font-bold bg-gradient-to-r from-yellow-400 to-yellow-500 text-white shadow-md"},[e("i",{class:"fas fa-bolt mr-1","aria-hidden":"true"}),B(" Boost ")],-1)),Is=["src","alt","title"],js={class:"absolute top-4 right-4"},Ts=["onClick","aria-label"],Bs={class:"p-5 flex-grow flex flex-col"},zs={class:"flex-grow"},Ds={class:"text-lg font-bold mb-2 text-secondaire line-clamp-2"},As={class:"flex items-center text-sm text-gray-600 mb-3"},Es=l(()=>e("i",{class:"fas fa-map-marker-alt text-principal mr-2","aria-hidden":"true"},null,-1)),Fs={class:"flex items-center gap-2 mb-3 text-sm text-gray-500"},Vs={key:0},Ms={key:1},Ls={class:"border-t border-gray-200 pt-3 mt-auto"},Os={class:"flex items-center justify-between"},Ns={class:"text-2xl font-bold text-principal"},Rs=l(()=>e("span",{class:"text-sm text-gray-500 ml-1"},"FCFA",-1)),qs={class:"py-16 bg-gradient-to-br from-principal/10 via-principal/5 to-secondaire/10"},Ps={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Ks={class:"bg-white rounded-2xl shadow-xl p-8 md:p-12"},Us={class:"flex flex-col lg:flex-row items-center justify-between gap-8"},Hs=l(()=>e("div",{class:"flex-1 text-left"},[e("h2",{class:"text-3xl md:text-4xl font-bold text-secondaire mb-4"}," Cr√©er une alerte gratuite "),e("p",{class:"text-lg md:text-xl text-gray-700 leading-relaxed max-w-3xl"}," Laissez-nous trouver votre prochain logement. Cr√©ez un Agent de recherche gratuit et recevez des alertes e-mail instantan√©es pour les nouvelles annonces correspondant √† vos crit√®res afin d'√™tre toujours parmi les premiers inform√©s. ")],-1)),Ws={class:"flex-shrink-0"},Qs=l(()=>e("i",{class:"fas fa-bell"},null,-1)),Zs=l(()=>e("span",null,"Cr√©er une alerte",-1)),Xs=[Qs,Zs],Js=l(()=>e("i",{class:"fas fa-bell"},null,-1)),Gs=l(()=>e("span",null,"Cr√©er une alerte",-1)),Ys=[Js,Gs],eo={class:"py-16 bg-white"},to={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},so={class:"mb-10 flex items-center justify-between"},oo=l(()=>e("div",null,[e("h2",{class:"text-2xl md:text-3xl font-bold text-secondaire mb-3"}," Locations r√©cemment ajout√©es "),e("p",{class:"text-gray-600 text-lg"},"D√©couvrez les derni√®res annonces disponibles")],-1)),ao=l(()=>e("span",null,"Voir toutes les annonces",-1)),io=l(()=>e("i",{class:"fas fa-arrow-right group-hover:translate-x-1 transition-transform"},null,-1)),ro={key:0,class:"relative"},no={class:"swiper recent-annonces-swiper",id:"recent-annonces-swiper"},lo={class:"swiper-wrapper"},co=["onClick","onKeydown","aria-label"],uo={class:"relative bg-gray-200 overflow-hidden h-64 group/image-container"},ho={key:0,class:"absolute top-4 right-4 z-20 bg-principal text-white px-3 py-1 rounded-full text-xs font-bold"},po=["data-property-id"],go=["id"],mo={class:"swiper-wrapper"},fo={key:0,class:"swiper-slide"},bo=["src","alt"],vo={key:1,class:"swiper-slide"},xo=["src","alt"],yo={key:2,class:"swiper-slide"},_o=["src","alt"],wo={key:3,class:"swiper-slide"},ko=["src","alt"],$o={class:"absolute top-4 left-4 z-20"},Co=["onClick","aria-label"],So={class:"p-5 flex-grow flex flex-col"},Io={class:"flex-grow"},jo={class:"text-base font-semibold text-secondaire mb-2"},To={key:0},Bo={class:"lowercase"},zo={key:1},Do={class:"text-sm text-gray-600 mb-3 line-clamp-1"},Ao={class:"border-t border-gray-200 pt-3 mt-auto flex items-center justify-between"},Eo={class:"text-xl font-bold text-principal"},Fo=l(()=>e("span",{class:"text-sm text-gray-500 ml-1"},"FCFA",-1)),Vo=["onClick","aria-label"],Mo=l(()=>e("div",{class:"swiper-button-next recent-next"},null,-1)),Lo=l(()=>e("div",{class:"swiper-button-prev recent-prev"},null,-1)),Oo=l(()=>e("div",{class:"swiper-pagination recent-pagination"},null,-1)),No={key:1,class:"text-center py-12 text-gray-500"},Ro=l(()=>e("i",{class:"fas fa-inbox text-4xl mb-4","aria-hidden":"true"},null,-1)),qo=l(()=>e("p",null,"Aucune annonce disponible pour le moment.",-1)),Po=[Ro,qo],Ko={class:"py-16 bg-white"},Uo={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Ho={class:"text-center mb-12"},Wo=l(()=>e("h2",{class:"text-3xl md:text-4xl font-bold text-secondaire mb-4"}," Pourquoi attendre ? Commencez votre recherche de logement maintenant ! ",-1)),Qo=l(()=>e("p",{class:"text-lg md:text-xl text-gray-700 max-w-3xl mx-auto leading-relaxed"}," Colobane rassemble tout le march√© de la location en une seule recherche. Ne ratez plus jamais le logement √† louer de vos r√™ves. ",-1)),Zo=l(()=>e("i",{class:"fas fa-search"},null,-1)),Xo=l(()=>e("span",null,"Rechercher",-1)),Jo=[Zo,Xo],Go={class:"mb-16"},Yo=l(()=>e("h3",{class:"text-2xl md:text-3xl font-bold text-secondaire mb-8"}," Trouvez des logements dans les principales villes du S√©n√©gal ",-1)),ea={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},ta={class:"font-bold text-lg text-secondaire mb-4"},sa={class:"space-y-2"},oa=["href"],aa=l(()=>e("h3",{class:"text-2xl md:text-3xl font-bold text-secondaire mb-8"}," Tous les lieux avec des locations ",-1)),ia={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"},ra=["href"],na={class:"text-gray-700 group-hover:text-principal font-medium"},la={class:"text-gray-500 text-sm group-hover:text-principal"},ca={components:{Toast:H,Footer:K,Navbar:U,CookieBanner:W,ChatBot:Q},data(){return{activeTab:"Immobilier",favorites:new Set,showToast:!1,toastMessage:"",toastType:"success",searchQuery:"",showAlertForm:!1,searchSuggestions:[],showSuggestions:!1,selectedSuggestionIndex:-1,searchTimeout:null,categoryItems:[{id:1,icon:"home",name:"Villa",type:"Villa",slug:"villa"},{id:2,icon:"building",name:"Appartements",type:"appartement",slug:"appartements"},{id:3,icon:"bed",name:"Chambre",type:"Chambre",slug:"chambre"},{id:4,icon:"home",name:"Studio",type:"studio",slug:"studio"},{id:5,icon:"building",name:"Immeuble",type:"Immeuble",slug:"immeuble"},{id:6,icon:"map-marked",name:"Terrain",type:"Terrain",slug:"terrain"},{id:7,icon:"key",name:"Immobilier",type:"all",slug:"immobilier"}],villesPopulaires:[{nom:"Dakar",image:"https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&h=600&fit=crop"},{nom:"Thi√®s",image:"https://images.unsplash.com/photo-1513694203232-719a280e022f?w=800&h=600&fit=crop"},{nom:"Saint-Louis",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop"},{nom:"Kaolack",image:"https://images.unsplash.com/photo-1480714378408-67cf0d13bc1b?w=800&h=600&fit=crop"},{nom:"Ziguinchor",image:"https://images.unsplash.com/photo-1514565131-fce0801e5785?w=800&h=600&fit=crop"},{nom:"Rufisque",image:"https://images.unsplash.com/photo-1514565131-fce0801e5785?w=800&h=600&fit=crop"},{nom:"Louga",image:"https://images.unsplash.com/photo-1480714378408-67cf0d13bc1b?w=800&h=600&fit=crop"},{nom:"Tambacounda",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop"},{nom:"Kolda",image:"https://images.unsplash.com/photo-1513694203232-719a280e022f?w=800&h=600&fit=crop"},{nom:"Mbour",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop"}],selectedCity:null,villesPrincipales:[{nom:"Dakar",types:[{label:"Villas √† Dakar",slug:"villa",icon:"home"},{label:"Appartements √† Dakar",slug:"appartements",icon:"building"},{label:"Chambres √† Dakar",slug:"chambre",icon:"bed"},{label:"Studios √† Dakar",slug:"studio",icon:"home"},{label:"Immeubles √† Dakar",slug:"immeuble",icon:"building"}]},{nom:"Thi√®s",types:[{label:"Villas √† Thi√®s",slug:"villa",icon:"home"},{label:"Appartements √† Thi√®s",slug:"appartements",icon:"building"},{label:"Chambres √† Thi√®s",slug:"chambre",icon:"bed"},{label:"Studios √† Thi√®s",slug:"studio",icon:"home"}]},{nom:"Saint-Louis",types:[{label:"Villas √† Saint-Louis",slug:"villa",icon:"home"},{label:"Appartements √† Saint-Louis",slug:"appartements",icon:"building"},{label:"Chambres √† Saint-Louis",slug:"chambre",icon:"bed"},{label:"Studios √† Saint-Louis",slug:"studio",icon:"home"}]},{nom:"Kaolack",types:[{label:"Villas √† Kaolack",slug:"villa",icon:"home"},{label:"Appartements √† Kaolack",slug:"appartements",icon:"building"},{label:"Chambres √† Kaolack",slug:"chambre",icon:"bed"},{label:"Studios √† Kaolack",slug:"studio",icon:"home"}]},{nom:"Ziguinchor",types:[{label:"Villas √† Ziguinchor",slug:"villa",icon:"home"},{label:"Appartements √† Ziguinchor",slug:"appartements",icon:"building"},{label:"Chambres √† Ziguinchor",slug:"chambre",icon:"bed"},{label:"Studios √† Ziguinchor",slug:"studio",icon:"home"}]},{nom:"Rufisque",types:[{label:"Villas √† Rufisque",slug:"villa",icon:"home"},{label:"Appartements √† Rufisque",slug:"appartements",icon:"building"},{label:"Chambres √† Rufisque",slug:"chambre",icon:"bed"},{label:"Studios √† Rufisque",slug:"studio",icon:"home"}]},{nom:"Louga",types:[{label:"Villas √† Louga",slug:"villa",icon:"home"},{label:"Appartements √† Louga",slug:"appartements",icon:"building"},{label:"Chambres √† Louga",slug:"chambre",icon:"bed"},{label:"Studios √† Louga",slug:"studio",icon:"home"}]},{nom:"Tambacounda",types:[{label:"Villas √† Tambacounda",slug:"villa",icon:"home"},{label:"Appartements √† Tambacounda",slug:"appartements",icon:"building"},{label:"Chambres √† Tambacounda",slug:"chambre",icon:"bed"}]}],regionsSenegal:[{nom:"Dakar",count:0},{nom:"Thi√®s",count:0},{nom:"Diourbel",count:0},{nom:"Fatick",count:0},{nom:"Kaolack",count:0},{nom:"Kolda",count:0},{nom:"Louga",count:0},{nom:"Matam",count:0},{nom:"Saint-Louis",count:0},{nom:"S√©dhiou",count:0},{nom:"Tambacounda",count:0},{nom:"Ziguinchor",count:0},{nom:"Kaffrine",count:0},{nom:"K√©dougou",count:0}]}},computed:{villesPopulairesAvecCount(){return this.villesPopulaires.map(s=>{const t=this.getCountByCity(s.nom);return{...s,count:t}}).sort((s,t)=>t.count-s.count)}},mounted(){var s;(s=this.$page.props.auth)!=null&&s.user&&this.loadFavorites(),this.calculateRegionCounts(),this.$nextTick(()=>{this.initializeVillesSwiper(),this.initializeRecentAnnoncesSwiper()})},methods:{navigateToDetail(s){this.$inertia.visit(`/detail/${s}`)},navigateToCategory(s){this.$inertia.visit(`/categorie/${s}`)},handleSearch(){this.searchQuery.trim()&&(this.showSuggestions=!1,this.$inertia.visit(`/p/immobilier?search=${encodeURIComponent(this.searchQuery)}`))},async handleSearchInput(){if(this.selectedSuggestionIndex=-1,this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchQuery.length<2){this.searchSuggestions=[],this.showSuggestions=!1;return}this.searchTimeout=setTimeout(async()=>{try{const s=await fetch(`/api/search/suggestions?q=${encodeURIComponent(this.searchQuery)}`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(s.ok){const t=await s.json();this.searchSuggestions=t.suggestions||[],this.showSuggestions=this.searchSuggestions.length>0}}catch(s){console.error("Erreur lors de la recherche de suggestions:",s),this.searchSuggestions=[]}},300)},selectSuggestion(s){if(s>=0&&s<this.searchSuggestions.length){const t=this.searchSuggestions[s];this.showSuggestions=!1,t.url?this.$inertia.visit(t.url):(this.searchQuery=t.value,this.handleSearch())}else if(this.selectedSuggestionIndex>=0&&this.selectedSuggestionIndex<this.searchSuggestions.length){const t=this.searchSuggestions[this.selectedSuggestionIndex];this.showSuggestions=!1,t.url?this.$inertia.visit(t.url):(this.searchQuery=t.value,this.handleSearch())}},navigateSuggestions(s){this.searchSuggestions.length!==0&&(s==="down"?this.selectedSuggestionIndex=(this.selectedSuggestionIndex+1)%this.searchSuggestions.length:s==="up"&&(this.selectedSuggestionIndex=this.selectedSuggestionIndex<=0?this.searchSuggestions.length-1:this.selectedSuggestionIndex-1))},hideSuggestions(){setTimeout(()=>{this.showSuggestions=!1},200)},searchByCity(s){this.searchQuery=s,this.handleSearch()},filterByCity(s){this.selectedCity=this.selectedCity===s?null:s,this.$nextTick(()=>{const t=document.querySelector(".bg-gray-50");t&&t.scrollIntoView({behavior:"smooth",block:"start"})})},clearCityFilter(){this.selectedCity=null},calculateRegionCounts(){var t,a,u,c,h,p;const s=[...((t=this.maisons)==null?void 0:t.data)||[],...this.villas||[],...((a=this.appartements)==null?void 0:a.data)||[],...((u=this.chambres)==null?void 0:u.data)||[],...((c=this.studios)==null?void 0:c.data)||[],...((h=this.immeubles)==null?void 0:h.data)||[],...((p=this.terrains)==null?void 0:p.data)||[]];this.regionsSenegal=this.regionsSenegal.map(f=>{const v=s.filter(o=>o.region&&o.region.toLowerCase().includes(f.nom.toLowerCase())).length;return{...f,count:v}})},getCountByCity(s){var c,h,p,f,v,o,n;let t=0;const a=s.toLowerCase();return[...((c=this.maisons)==null?void 0:c.data)||[],...((h=this.chambres)==null?void 0:h.data)||[],...((p=this.appartements)==null?void 0:p.data)||[],...((f=this.studios)==null?void 0:f.data)||[],...((v=this.immeubles)==null?void 0:v.data)||[],...((o=this.terrains)==null?void 0:o.data)||[],...((n=this.vergers)==null?void 0:n.data)||[],...Array.isArray(this.villas)?this.villas:[]].forEach(x=>{x.region&&x.region.toLowerCase().includes(a)&&t++}),t},formatNumber(s){return new Intl.NumberFormat("fr-FR").format(s)},get ogImage(){return window.location.origin+"/logo.png"},get structuredData(){return{"@context":"https://schema.org","@type":"WebSite",name:"NoflayHub",description:"Plateforme de location immobili√®re au S√©n√©gal",url:window.location.origin,potentialAction:{"@type":"SearchAction",target:{"@type":"EntryPoint",urlTemplate:window.location.origin+"/p/immobilier?search={search_term_string}"},"query-input":"required name=search_term_string"},publisher:{"@type":"Organization",name:"NoflayHub",logo:{"@type":"ImageObject",url:window.location.origin+"/logo.png"}}}},formatPrice(s){return s?new Intl.NumberFormat("fr-FR").format(s):"0"},isNew(s){if(!s)return!1;const t=new Date(s);return(new Date-t)/(1e3*60*60*24)<=7},async toggleFavorite(s){var t,a;if(!((t=this.$page.props.auth)!=null&&t.user)){this.$inertia.visit("/login");return}try{const c=await(await fetch(`/favoris/toggle/${s}`,{method:"POST",headers:{"X-CSRF-TOKEN":((a=document.querySelector('meta[name="csrf-token"]'))==null?void 0:a.content)||"","Content-Type":"application/json",Accept:"application/json"}})).json();c.status==="added"?(this.favorites.add(s),this.toastMessage="Bien ajout√© aux favoris avec succ√®s!",this.toastType="success",this.showToast=!0):c.status==="removed"&&(this.favorites.delete(s),this.toastMessage="Bien retir√© des favoris",this.toastType="info",this.showToast=!0)}catch(u){console.error("Erreur lors de l'ajout aux favoris:",u),this.toastMessage="Erreur lors de l'op√©ration",this.toastType="error",this.showToast=!0}},closeToast(){this.showToast=!1},isFavorite(s){return this.favorites.has(s)},async loadFavorites(){var s;if((s=this.$page.props.auth)!=null&&s.user)try{const t=await fetch("/favoris/all",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(t.ok){const a=await t.json();a.favoris&&Array.isArray(a.favoris)&&a.favoris.forEach(u=>{this.favorites.add(u)})}}catch(t){console.error("Erreur lors du chargement des favoris:",t)}},getImageUrl(s){return!s||s==="null"||s===""?"https://via.placeholder.com/500x300?text=Image+non+disponible":s.startsWith("http://")||s.startsWith("https://")?s:s.startsWith("storage/")||s.startsWith("/storage/")?s.startsWith("/")?s:"/"+s:"/storage/"+s},getFirstAvailableImage(s){return s.image1&&s.image1!==""&&s.image1!=="null"?this.getImageUrl(s.image1):s.image2&&s.image2!==""&&s.image2!=="null"?this.getImageUrl(s.image2):s.image3&&s.image3!==""&&s.image3!=="null"?this.getImageUrl(s.image3):"https://via.placeholder.com/500x300?text=Image+non+disponible"},handleImageError(s){s.target&&!s.target.dataset.errorHandled&&(s.target.dataset.errorHandled="true",s.target.src="https://via.placeholder.com/500x300?text=Image+non+disponible",s.target.onerror=null)},handleCityImageError(s){s.target&&!s.target.dataset.errorHandled&&(s.target.dataset.errorHandled="true",s.target.src="https://images.unsplash.com/photo-1513694203232-719a280e022f?w=800&h=600&fit=crop",s.target.onerror=null)},getCurrentData(){var a,u,c,h,p,f,v,o,n;const s=this.categoryItems.find(x=>x.name===this.activeTab);let t=[];if(!s||s.type==="all")t=((a=this.maisons)==null?void 0:a.data)||[];else switch(s.type){case"Villa":t=Array.isArray(this.villas)?this.villas:((u=this.villas)==null?void 0:u.data)||[];break;case"appartement":t=((c=this.appartements)==null?void 0:c.data)||[];break;case"Chambre":t=((h=this.chambres)==null?void 0:h.data)||[];break;case"studio":t=((p=this.studios)==null?void 0:p.data)||[];break;case"Immeuble":t=((f=this.immeubles)==null?void 0:f.data)||[];break;case"Terrain":t=((v=this.terrains)==null?void 0:v.data)||[];break;case"Verger":t=((o=this.vergers)==null?void 0:o.data)||[];break;default:t=((n=this.maisons)==null?void 0:n.data)||[]}if(this.selectedCity){const x=this.selectedCity.toLowerCase();t=t.filter(g=>g.region&&g.region.toLowerCase().includes(x))}return t},getBoostedData(){var a,u,c,h,p,f,v,o,n;const s=this.categoryItems.find(x=>x.name===this.activeTab);let t=[];if(!s||s.type==="all")t=((a=this.immobilliersBoost)==null?void 0:a.data)||[];else switch(s.type){case"Villa":t=Array.isArray(this.villasBoost)?this.villasBoost:((u=this.villasBoost)==null?void 0:u.data)||[];break;case"appartement":t=((c=this.appartementsBoost)==null?void 0:c.data)||[];break;case"Chambre":t=((h=this.chambresBoost)==null?void 0:h.data)||[];break;case"studio":t=((p=this.studiosBoost)==null?void 0:p.data)||[];break;case"Immeuble":t=((f=this.immeublesBoost)==null?void 0:f.data)||[];break;case"Terrain":t=((v=this.terrainsBoost)==null?void 0:v.data)||[];break;case"Verger":t=((o=this.vergersBoost)==null?void 0:o.data)||[];break;default:t=((n=this.immobilliersBoost)==null?void 0:n.data)||[]}if(this.selectedCity){const x=this.selectedCity.toLowerCase();t=t.filter(g=>g.region&&g.region.toLowerCase().includes(x))}return t},getCategoryLabel(){const s=this.categoryItems.find(t=>t.name===this.activeTab);return s?`- ${s.name}`:""},getBoostedLink(){const s=this.categoryItems.find(t=>t.name===this.activeTab);return s&&s.slug?`/categorie/${s.slug}?boosted=true`:"/p/immobilier?boosted=true"},hasMultipleImages(s){let t=0;return s.image1&&s.image1!==""&&s.image1!=="null"&&t++,s.image2&&s.image2!==""&&s.image2!=="null"&&t++,s.image3&&s.image3!==""&&s.image3!=="null"&&t++,t>1},hasAnyImage(s){return s.image1&&s.image1!==""&&s.image1!=="null"||s.image2&&s.image2!==""&&s.image2!=="null"||s.image3&&s.image3!==""&&s.image3!=="null"},initializeVillesSwiper(){typeof Swiper<"u"&&new Swiper("#villes-swiper",{slidesPerView:1,spaceBetween:20,loop:!1,autoplay:{delay:4e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},navigation:{nextEl:".villes-next",prevEl:".villes-prev"},pagination:{el:".villes-pagination",clickable:!0,dynamicBullets:!0},breakpoints:{480:{slidesPerView:2,spaceBetween:15},640:{slidesPerView:2,spaceBetween:20},768:{slidesPerView:3,spaceBetween:20},1024:{slidesPerView:4,spaceBetween:20},1280:{slidesPerView:5,spaceBetween:20}}})},initializeRecentAnnoncesSwiper(){typeof Swiper<"u"&&(new Swiper("#recent-annonces-swiper",{slidesPerView:1,spaceBetween:20,loop:!1,autoplay:{delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},navigation:{nextEl:".recent-next",prevEl:".recent-prev"},pagination:{el:".recent-pagination",clickable:!0,dynamicBullets:!0},breakpoints:{640:{slidesPerView:2,spaceBetween:20},768:{slidesPerView:3,spaceBetween:20},1024:{slidesPerView:4,spaceBetween:20}}}),this.$nextTick(()=>{this.initializePropertyImageCarousels()}))},initializePropertyImageCarousels(){typeof Swiper<"u"&&this.$nextTick(()=>{var s,t;(t=(s=this.maisons)==null?void 0:s.data)==null||t.forEach(a=>{if(this.hasMultipleImages(a)){const u=`#property-images-${a.id}`,c=document.querySelector(u);c&&!c.swiper&&new Swiper(u,{slidesPerView:1,spaceBetween:0,loop:!0,navigation:{nextEl:`.property-image-next-${a.id}`,prevEl:`.property-image-prev-${a.id}`},allowTouchMove:!0})}})})}}},da=Object.assign(ca,{__name:"Welcome",props:{totalAnnonces:Number,immobilliersBoost:Object,maisons:Object,canLogin:Boolean,canRegister:Boolean,laravelVersion:String,phpVersion:String,chambres:Object,chambresBoost:Object,villas:Object,villasBoost:Object,immeubles:Object,immeublesBoost:Object,terrains:Object,terrainsBoost:Object,vergers:Object,vergersBoost:Object,appartements:Object,appartementsBoost:Object,studios:Object,studiosBoost:Object},setup(s){return(t,a)=>{var u,c,h,p,f,v;return i(),r(w,null,[k(G,{title:"NoflayHub - Location immobili√®re au S√©n√©gal | Trouvez votre logement id√©al",description:`Trouvez votre logement id√©al au S√©n√©gal. ${s.totalAnnonces?t.formatNumber(s.totalAnnonces)+" annonces":"Des milliers d'annonces"} de villas, appartements, chambres, studios et terrains √† louer dans toutes les r√©gions du S√©n√©gal.`,keywords:"location S√©n√©gal, immobilier S√©n√©gal, villa √† louer Dakar, appartement √† louer, chambre √† louer, studio √† louer, terrain √† louer, location immobili√®re S√©n√©gal","og-type":"website","og-image":t.ogImage,"structured-data":t.structuredData},null,8,["description","og-image","structured-data"]),k(U,{class:"relative"}),e("section",St,[It,e("div",jt,[e("div",Tt,[e("div",Bt,[e("h1",zt,d(t.formatNumber(s.totalAnnonces||0))+" biens disponibles ",1),Dt])]),e("div",At,[e("form",{onSubmit:a[7]||(a[7]=I((...o)=>t.handleSearch&&t.handleSearch(...o),["prevent"])),class:"relative"},[e("div",Et,[e("div",Ft,[Vt,E(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=o=>t.searchQuery=o),onInput:a[1]||(a[1]=(...o)=>t.handleSearchInput&&t.handleSearchInput(...o)),onFocus:a[2]||(a[2]=o=>t.showSuggestions=!0),onBlur:a[3]||(a[3]=(...o)=>t.hideSuggestions&&t.hideSuggestions(...o)),onKeydown:[a[4]||(a[4]=A(I(o=>t.navigateSuggestions("down"),["prevent"]),["arrow-down"])),a[5]||(a[5]=A(I(o=>t.navigateSuggestions("up"),["prevent"]),["arrow-up"])),a[6]||(a[6]=A(I(o=>t.selectedSuggestionIndex>=0?t.selectSuggestion(t.selectedSuggestionIndex):t.handleSearch(),["prevent"]),["enter"]))],placeholder:"Rechercher parmi tous les biens",class:"w-full pl-14 pr-4 py-4 md:py-5 text-gray-900 rounded-xl focus:outline-none focus:ring-2 focus:ring-principal text-lg","aria-label":"Rechercher un bien",autocomplete:"off"},null,544),[[P,t.searchQuery]]),Mt,t.showSuggestions&&t.searchSuggestions.length>0?(i(),r("div",Lt,[(i(!0),r(w,null,C(t.searchSuggestions,(o,n)=>(i(),r("div",{key:n,onClick:x=>t.selectSuggestion(n),onMouseenter:x=>t.selectedSuggestionIndex=n,class:_(["px-4 py-3 cursor-pointer transition-colors flex items-center gap-3",t.selectedSuggestionIndex===n?"bg-principal/10":"hover:bg-gray-50"])},[e("i",{class:_(["fas",o.icon==="map-marker-alt"?"fa-map-marker-alt":o.icon==="home"?"fa-home":"fa-building","text-principal"])},null,2),e("div",Nt,[e("div",Rt,d(o.label),1),e("div",qt,d(o.type),1)]),Pt],42,Ot))),128))])):m("",!0)]),Kt])],32)])])]),e("section",Ut,[e("div",Ht,[Wt,e("div",Qt,[(i(!0),r(w,null,C(t.categoryItems,o=>(i(),r("button",{key:o.id,onClick:n=>t.navigateToCategory(o.slug),class:_(["px-6 py-4 rounded-xl transition-all duration-300 font-semibold text-secondaire border-2 flex items-center gap-3 min-w-[160px] justify-center","bg-white border-gray-200 hover:border-principal hover:shadow-md hover:bg-principal hover:text-white"])},[e("i",{class:_(`fas fa-${o.icon} text-xl`)},null,2),e("span",null,d(o.name),1)],8,Zt))),128))])])]),e("section",Xt,[e("div",Jt,[Gt,e("div",Yt,[e("div",es,[e("div",ts,[(i(!0),r(w,null,C(t.villesPopulairesAvecCount,o=>(i(),r("div",{key:o.nom,class:"swiper-slide"},[e("button",{onClick:n=>t.filterByCity(o.nom),class:_(["bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 text-left group border-2 transform hover:-translate-y-1 w-full h-full flex flex-col",t.selectedCity===o.nom?"border-principal shadow-lg scale-105":"border-transparent hover:border-principal"])},[e("div",os,[e("img",{src:o.image,alt:`Image de ${o.nom}`,class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:a[8]||(a[8]=n=>t.handleCityImageError(n)),loading:"lazy"},null,40,as),is,e("div",rs,[e("div",ns,d(o.nom),1),e("div",ls,d(t.formatNumber(o.count))+" "+d(o.count>1?"biens":"bien"),1)])])],10,ss)]))),128))]),cs,ds,us])]),t.selectedCity?(i(),r("div",hs,[e("button",{onClick:a[9]||(a[9]=(...o)=>t.clearCityFilter&&t.clearCityFilter(...o)),class:"inline-flex items-center gap-2 px-6 py-3 bg-principal text-white rounded-xl hover:bg-principal/90 transition-all duration-300 shadow-md hover:shadow-lg"},[ps,e("span",null,"Effacer le filtre ("+d(t.selectedCity)+")",1)])])):m("",!0)])]),((u=t.getCurrentData())==null?void 0:u.length)>0||((c=t.getBoostedData())==null?void 0:c.length)>0?(i(),r("section",gs,[e("div",ms,[((h=t.getBoostedData())==null?void 0:h.length)>0?(i(),r("div",fs,[e("div",bs,[vs,e("a",{href:t.getBoostedLink(),class:"text-principal hover:text-principal/80 font-semibold flex items-center gap-2 transition-all duration-300 hover:gap-3 group"},ws,8,xs)]),e("div",ks,[(i(!0),r(w,null,C(t.getBoostedData().slice(0,8),o=>(i(),r("article",{key:o.id,onClick:n=>t.navigateToDetail(o.id),class:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-all duration-300 h-full flex flex-col cursor-pointer focus-within:ring-2 focus-within:ring-principal focus-within:ring-offset-2 group",onKeydown:A(n=>t.navigateToDetail(o.id),["enter"]),tabindex:"0",role:"article","aria-label":`${o.nom} - ${o.prix} FCFA`},[e("div",Cs,[Ss,e("img",{src:t.getFirstAvailableImage(o),alt:`Image de ${o.nom||"bien immobilier"}`,title:o.nom,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy",decoding:"async",onError:a[10]||(a[10]=n=>t.handleImageError(n))},null,40,Is),e("div",js,[e("button",{onClick:I(n=>t.toggleFavorite(o.id),["stop"]),class:_(["bg-white rounded-full p-2 shadow-md hover:shadow-lg transition-all duration-300",t.isFavorite(o.id)?"text-red-500":"text-gray-400 hover:text-red-400"]),"aria-label":t.isFavorite(o.id)?"Retirer des favoris":"Ajouter aux favoris"},[e("i",{class:_([t.isFavorite(o.id)?"fas fa-heart":"far fa-heart","text-sm"])},null,2)],10,Ts)])]),e("div",Bs,[e("div",zs,[e("h3",Ds,d(o.nom),1),e("div",As,[Es,e("span",null,d(o.region)+", S√©n√©gal",1)]),e("div",Fs,[o.surface?(i(),r("span",Vs,d(o.surface)+"m¬≤",1)):m("",!0),o.npiece?(i(),r("span",Ms,d(o.npiece)+" pi√®ce"+d(o.npiece>1?"s":""),1)):m("",!0),e("span",null,d(o.type),1)])]),e("div",Ls,[e("div",Os,[e("div",null,[e("span",Ns,d(t.formatPrice(o.prix)),1),Rs])])])])],40,$s))),128))])])):m("",!0)])])):m("",!0),e("section",qs,[e("div",Ps,[e("div",Ks,[e("div",Us,[Hs,e("div",Ws,[(p=t.$page.props.auth)!=null&&p.user?(i(),r("button",{key:1,onClick:a[12]||(a[12]=o=>t.showAlertForm=!0),class:"bg-principal hover:bg-principal/90 text-white px-12 py-5 rounded-xl font-semibold transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-principal focus:ring-offset-2 shadow-lg hover:shadow-xl transform hover:scale-105 text-lg inline-flex items-center gap-2 whitespace-nowrap"},Ys)):(i(),r("button",{key:0,onClick:a[11]||(a[11]=o=>t.$inertia.visit("/register")),class:"bg-principal hover:bg-principal/90 text-white px-12 py-5 rounded-xl font-semibold transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-principal focus:ring-offset-2 shadow-lg hover:shadow-xl transform hover:scale-105 text-lg inline-flex items-center gap-2 whitespace-nowrap"},Xs))])])])])]),e("section",eo,[e("div",to,[e("div",so,[oo,k(N(R),{href:"/p/immobilier",class:"text-principal hover:text-principal/80 font-semibold hidden md:flex items-center gap-2 transition-all duration-300 hover:gap-3 group"},{default:z(()=>[ao,io]),_:1})]),((v=(f=s.maisons)==null?void 0:f.data)==null?void 0:v.length)>0?(i(),r("div",ro,[e("div",no,[e("div",lo,[(i(!0),r(w,null,C(s.maisons.data.slice(0,12),o=>(i(),r("div",{key:o.id,class:"swiper-slide"},[e("article",{onClick:n=>t.navigateToDetail(o.id),class:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-all duration-300 h-full flex flex-col cursor-pointer focus-within:ring-2 focus-within:ring-principal focus-within:ring-offset-2 group",onKeydown:A(n=>t.navigateToDetail(o.id),["enter"]),tabindex:"0",role:"article","aria-label":`${o.nom} - ${o.prix} FCFA`},[e("div",uo,[t.isNew(o.created_at)?(i(),r("span",ho," Nouveau ! ")):m("",!0),e("div",{class:"relative w-full h-full property-image-carousel","data-property-id":o.id},[e("div",{class:"swiper property-images-swiper",id:`property-images-${o.id}`},[e("div",mo,[o.image1&&o.image1!==""&&o.image1!=="null"?(i(),r("div",fo,[e("img",{src:t.getImageUrl(o.image1),alt:`Image 1 de ${o.nom||"bien immobilier"}`,class:"w-full h-full object-cover",loading:"lazy",decoding:"async",onError:a[13]||(a[13]=n=>t.handleImageError(n))},null,40,bo)])):m("",!0),o.image2&&o.image2!==""&&o.image2!=="null"?(i(),r("div",vo,[e("img",{src:t.getImageUrl(o.image2),alt:`Image 2 de ${o.nom||"bien immobilier"}`,class:"w-full h-full object-cover",loading:"lazy",decoding:"async",onError:a[14]||(a[14]=n=>t.handleImageError(n))},null,40,xo)])):m("",!0),o.image3&&o.image3!==""&&o.image3!=="null"?(i(),r("div",yo,[e("img",{src:t.getImageUrl(o.image3),alt:`Image 3 de ${o.nom||"bien immobilier"}`,class:"w-full h-full object-cover",loading:"lazy",decoding:"async",onError:a[15]||(a[15]=n=>t.handleImageError(n))},null,40,_o)])):m("",!0),t.hasAnyImage(o)?m("",!0):(i(),r("div",wo,[e("img",{src:t.getFirstAvailableImage(o),alt:`Image de ${o.nom||"bien immobilier"}`,class:"w-full h-full object-cover",loading:"lazy",decoding:"async",onError:a[16]||(a[16]=n=>t.handleImageError(n))},null,40,ko)]))]),t.hasMultipleImages(o)?(i(),r("div",{key:0,class:_(`swiper-button-next property-image-next-${o.id}`)},null,2)):m("",!0),t.hasMultipleImages(o)?(i(),r("div",{key:1,class:_(`swiper-button-prev property-image-prev-${o.id}`)},null,2)):m("",!0)],8,go)],8,po),e("div",$o,[e("button",{onClick:I(n=>t.toggleFavorite(o.id),["stop"]),class:_(["bg-white rounded-full p-2 shadow-md hover:shadow-lg transition-all duration-300",t.isFavorite(o.id)?"text-red-500":"text-gray-400 hover:text-red-400"]),"aria-label":t.isFavorite(o.id)?"Retirer des favoris":"Ajouter aux favoris"},[e("i",{class:_([t.isFavorite(o.id)?"fas fa-heart":"far fa-heart","text-sm"])},null,2)],10,Co)])]),e("div",So,[e("div",Io,[e("div",jo,[o.npiece?(i(),r("span",To,d(o.npiece)+" chambre"+d(o.npiece>1?"s":""),1)):m("",!0),e("span",Bo,d(o.type||"appartement"),1),o.surface?(i(),r("span",zo," de "+d(o.surface)+"m¬≤",1)):m("",!0)]),e("div",Do,d(o.region||"S√©n√©gal")+d(o.ville?", "+o.ville:""),1)]),e("div",Ao,[e("div",null,[e("span",Eo,d(t.formatPrice(o.prix)),1),Fo]),e("button",{onClick:I(n=>t.toggleFavorite(o.id),["stop"]),class:_(["transition-colors duration-300",t.isFavorite(o.id)?"text-red-500":"text-gray-400 hover:text-red-400"]),"aria-label":t.isFavorite(o.id)?"Retirer des favoris":"Ajouter aux favoris"},[e("i",{class:_([t.isFavorite(o.id)?"fas fa-heart":"far fa-heart","text-lg"])},null,2)],10,Vo)])])],40,co)]))),128))]),Mo,Lo,Oo])])):(i(),r("div",No,Po))])]),e("section",Ko,[e("div",Uo,[e("div",Ho,[Wo,Qo,e("button",{onClick:a[17]||(a[17]=(...o)=>t.handleSearch&&t.handleSearch(...o)),class:"mt-8 bg-principal hover:bg-principal/90 text-white px-10 py-4 rounded-xl font-semibold transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-principal focus:ring-offset-2 shadow-lg hover:shadow-xl transform hover:scale-105 text-lg inline-flex items-center gap-2"},Jo)]),e("div",Go,[Yo,e("div",ea,[(i(!0),r(w,null,C(t.villesPrincipales,o=>(i(),r("div",{key:o.nom,class:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-lg transition-all duration-300"},[e("h4",ta,d(o.nom),1),e("ul",sa,[(i(!0),r(w,null,C(o.types,n=>(i(),r("li",{key:n.slug},[e("a",{href:`/categorie/${n.slug}?region=${o.nom.toLowerCase()}`,class:"text-gray-700 hover:text-principal transition-colors duration-200 flex items-center group"},[e("i",{class:_(`fas fa-${n.icon} mr-2 text-sm text-gray-400 group-hover:text-principal`)},null,2),e("span",null,d(n.label)+" √† "+d(o.nom),1)],8,oa)]))),128))])]))),128))])]),e("div",null,[aa,e("div",ia,[(i(!0),r(w,null,C(t.regionsSenegal,o=>(i(),r("a",{key:o.nom,href:`/p/immobilier?region=${o.nom.toLowerCase()}`,class:"bg-white border border-gray-200 rounded-lg p-4 hover:border-principal hover:shadow-md transition-all duration-200 flex items-center justify-between group"},[e("span",na,d(o.nom),1),e("span",la,"("+d(o.count||0)+")",1)],8,ra))),128))])])])]),k(K),k(H,{show:t.showToast,message:t.toastMessage,type:t.toastType,onClose:t.closeToast},null,8,["show","message","type","onClose"]),k(W),k(Q)],64)}}}),xa=M(da,[["__scopeId","data-v-ab837c0c"]]);export{xa as default};
