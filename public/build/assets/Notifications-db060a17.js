import{d as D,c as p,w as M,o as i,b as h,u as x,X as S,a as t,f as o,j as b,h as c,F as g,k as y,n as d,t as f,m as V,O as u}from"./app-4c90058b.js";import{_ as F}from"./AppLayout-b030911e.js";import{F as T}from"./Footer-1af379b6.js";import{N as A}from"./Navbar-d6ef40e1.js";/* empty css                                                               */import"./_plugin-vue_export-helper-c27b6911.js";const B={class:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 py-8"},L={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},R={class:"mb-8 flex items-center justify-between"},z=t("div",null,[t("h1",{class:"text-4xl font-bold text-gray-900 mb-2 flex items-center"},[t("i",{class:"bi bi-bell-fill text-principal mr-3"}),b(" Notifications ")]),t("p",{class:"text-gray-600"}," Restez informé de toutes vos activités ")],-1),O=t("i",{class:"bi bi-check-all mr-2"},null,-1),q={key:0,class:"space-y-4"},H={class:"flex items-start justify-between"},I={class:"flex-1"},E={class:"flex items-center gap-3 mb-2"},X={class:"flex-1"},G={class:"font-bold text-gray-900"},J={class:"text-gray-600 text-sm mt-1"},K={class:"text-gray-400 text-xs mt-2"},P=["onClick"],Q=t("i",{class:"bi bi-arrow-right mr-2 group-hover:translate-x-1 transition-transform"},null,-1),U={class:"flex items-center gap-2 ml-4"},W=["onClick"],Y=t("i",{class:"bi bi-check-circle text-xl"},null,-1),Z=[Y],tt=["onClick"],et=t("i",{class:"bi bi-trash text-xl"},null,-1),st=[et],it={key:1,class:"text-center py-16"},ot=t("div",{class:"max-w-md mx-auto"},[t("i",{class:"bi bi-bell-slash text-6xl text-gray-300 mb-4"}),t("h2",{class:"text-2xl font-bold text-gray-900 mb-2"}," Aucune notification "),t("p",{class:"text-gray-600 mb-6"}," Vous n'avez pas encore de notifications ")],-1),at=[ot],rt={key:2,class:"mt-8 flex justify-center"},lt={class:"flex space-x-2"},xt={__name:"Notifications",props:{notifications:Object},setup(a){const v=a,k=s=>{if(!s)return"";const r=new Date(s),l=new Date-r,n=Math.floor(l/6e4),m=Math.floor(n/60),_=Math.floor(m/24);return n<1?"À l'instant":n<60?`Il y a ${n} min`:m<24?`Il y a ${m}h`:_<7?`Il y a ${_}j`:r.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})},w=s=>{u.post(`/notifications/${s}/read`,{},{preserveScroll:!0})},C=()=>{u.post("/notifications/read-all",{},{preserveScroll:!0})},N=s=>{u.delete(`/notifications/${s}`,{preserveScroll:!0})},$=s=>{s&&u.visit(`/detail/${s}`)},j=D(()=>{var s,r;return((r=(s=v.notifications)==null?void 0:s.data)==null?void 0:r.filter(e=>!e.read).length)||0});return(s,r)=>(i(),p(F,{title:"Notifications"},{default:M(()=>[h(x(S),{title:"Notifications"}),h(A),t("div",B,[t("div",L,[t("div",R,[z,x(j)>0?(i(),o("button",{key:0,onClick:C,class:"px-4 py-2 bg-principal text-white rounded-xl font-semibold hover:bg-principal-dark transition-colors duration-300"},[O,b(" Tout marquer comme lu ")])):c("",!0)]),a.notifications.data&&a.notifications.data.length>0?(i(),o("div",q,[(i(!0),o(g,null,y(a.notifications.data,e=>(i(),o("div",{key:e.id,class:d(["bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 border-l-4",e.read?"border-gray-200":"border-principal"])},[t("div",H,[t("div",I,[t("div",E,[t("div",{class:d(["w-10 h-10 rounded-full flex items-center justify-center",e.type==="favori"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"])},[t("i",{class:d(e.type==="favori"?"bi bi-heart-fill":"bi bi-bell-fill")},null,2)],2),t("div",X,[t("h3",G,f(e.title),1),t("p",J,f(e.message),1),t("p",K,f(k(e.created_at)),1)])]),e.immobilier_id?(i(),o("button",{key:0,onClick:l=>$(e.immobilier_id),class:"mt-3 text-principal hover:text-principal-dark font-semibold text-sm flex items-center group"},[Q,b(" Voir le bien ")],8,P)):c("",!0)]),t("div",U,[e.read?c("",!0):(i(),o("button",{key:0,onClick:l=>w(e.id),class:"p-2 text-gray-400 hover:text-principal transition-colors","aria-label":"Marquer comme lu"},Z,8,W)),t("button",{onClick:l=>N(e.id),class:"p-2 text-gray-400 hover:text-red-500 transition-colors","aria-label":"Supprimer"},st,8,tt)])])],2))),128))])):(i(),o("div",it,at)),a.notifications.data&&a.notifications.data.length>0&&a.notifications.links?(i(),o("div",rt,[t("div",lt,[(i(!0),o(g,null,y(a.notifications.links,(e,l)=>(i(),p(x(V),{key:l,href:e.url||"#",class:d(["px-4 py-2 rounded-lg font-semibold transition-colors",e.active?"bg-principal text-white":"bg-white text-gray-700 hover:bg-gray-100",e.url?"cursor-pointer":"opacity-50 cursor-not-allowed"]),innerHTML:e.label},null,8,["href","class","innerHTML"]))),128))])])):c("",!0)])]),h(T)]),_:1}))}};export{xt as default};
